<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-appeng/adrs/distributed-tracing" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">0002 - Use OpenTelemetry to instrument code for distributed tracing | Truss Engineering Playbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playbook.truss.dev/docs/appeng/adrs/distributed-tracing"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="0002 - Use OpenTelemetry to instrument code for distributed tracing | Truss Engineering Playbook"><meta data-rh="true" name="description" content="Status: Accepted"><meta data-rh="true" property="og:description" content="Status: Accepted"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://playbook.truss.dev/docs/appeng/adrs/distributed-tracing"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/appeng/adrs/distributed-tracing" hreflang="en"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/appeng/adrs/distributed-tracing" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"ADRs","item":"https://playbook.truss.dev/docs/appeng/adrs/"},{"@type":"ListItem","position":2,"name":"0002 - Use OpenTelemetry to instrument code for distributed tracing","item":"https://playbook.truss.dev/docs/appeng/adrs/distributed-tracing"}]}</script><link rel="stylesheet" href="/assets/css/styles.f2629a4b.css">
<script src="/assets/js/runtime~main.978db84b.js" defer="defer"></script>
<script src="/assets/js/main.10abe9f3.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/truss-icon-light.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Engineering Playbook</b></a><a class="navbar__item navbar__link" href="/docs">About</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/practices">Practices</a><a class="navbar__item navbar__link" href="/docs/incident-response">Incident Response</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/trussworks/Engineering-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/practices"><span title="Engineering Practices" class="linkLabel_WmDU">Engineering Practices</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/appeng"><span title="AppEng" class="categoryLinkLabel_W154">AppEng</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng"><span title="AppEng Practice" class="linkLabel_WmDU">AppEng Practice</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/appeng/adrs"><span title="ADRs" class="categoryLinkLabel_W154">ADRs</span></a><button aria-label="Collapse sidebar category &#x27;ADRs&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng/adrs/use-typescript"><span title="0001 - Preference to use TypeScript in place of JavaScript" class="linkLabel_WmDU">0001 - Preference to use TypeScript in place of JavaScript</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/appeng/adrs/distributed-tracing"><span title="0002 - Use OpenTelemetry to instrument code for distributed tracing" class="linkLabel_WmDU">0002 - Use OpenTelemetry to instrument code for distributed tracing</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng/adrs/open-source-application-code"><span title="0003 Open Source Application Code" class="linkLabel_WmDU">0003 Open Source Application Code</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng/adrs/postgresql-as-relational-store"><span title="0004 - Use PostgreSQL as a relational store" class="linkLabel_WmDU">0004 - Use PostgreSQL as a relational store</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng/adrs/javascript-dependency-management"><span title="0005 - JavaScript dependency management" class="linkLabel_WmDU">0005 - JavaScript dependency management</span></a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng/decision-process"><span title="AppEng Decision Process" class="linkLabel_WmDU">AppEng Decision Process</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng/decision-values"><span title="AppEng Decision Making Primer and Values" class="linkLabel_WmDU">AppEng Decision Making Primer and Values</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/appeng/team-charter"><span title="AppEng Team Charter" class="linkLabel_WmDU">AppEng Team Charter</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/infrasec"><span title="InfraSec" class="categoryLinkLabel_W154">InfraSec</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">AppEng</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/appeng/adrs"><span>ADRs</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">0002 - Use OpenTelemetry to instrument code for distributed tracing</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>0002 - Use OpenTelemetry to instrument code for distributed tracing</h1></header>
<p><strong>Status:</strong> Accepted</p>
<p><strong>Date Accepted:</strong> 12/8/2021</p>
<p><strong>Reviewers:</strong> @ahobson @felipe-lee @gidjin @jim @macrael @mikena-truss @reggieriser @rogeruiz</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="context">Context<a href="#context" class="hash-link" aria-label="Direct link to Context" title="Direct link to Context" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="objective">Objective<a href="#objective" class="hash-link" aria-label="Direct link to Objective" title="Direct link to Objective" translate="no">​</a></h3>
<p><em>Give developers and operators an easier way to understand the behavior and
structure of running systems by instrumenting code for distributed tracing,
leading to a more consistent experience for the systems&#x27; users.</em></p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-distributed-tracing">Why Distributed Tracing?<a href="#why-distributed-tracing" class="hash-link" aria-label="Direct link to Why Distributed Tracing?" title="Direct link to Why Distributed Tracing?" translate="no">​</a></h3>
<blockquote>
<p>Observability is defined as the ability of the internal states of a system to
be determined by its external outputs.</p>
</blockquote>
<p>There are several established techniques for gaining observability into complex
software systems:</p>
<ul>
<li class="">Logging<!-- -->
<ul>
<li class="">helpful for known knowns</li>
<li class="">e.g. &quot;I want to know when a specific condition is reached&quot;</li>
</ul>
</li>
<li class="">Metrics<!-- -->
<ul>
<li class="">helpful for assessing known unknowns</li>
<li class="">e.g. &quot;How many requests per second was the system handling last Tuesday?&quot;</li>
</ul>
</li>
<li class="">Distributed Tracing<!-- -->
<ul>
<li class="">helpful for learning about unknown unknowns</li>
<li class="">e.g. &quot;What was the execution context for User X that caused their
interaction to timeout last Tuesday?&quot;</li>
</ul>
</li>
</ul>
<p>Some of the benefits of distributed tracing as outlined in
<a href="https://petabridge.com/blog/why-use-distributed-tracing/" target="_blank" rel="noopener noreferrer" class=""><em>How Distributed Tracing Solves One of the Worst Microservices Problems</em></a>
are:</p>
<ul>
<li class="">radically improves developer productivity and output</li>
<li class="">works across multiple applications, programming languages, and transports</li>
<li class="">improve time to market</li>
<li class="">facilitates excellent cross-team communication and cooperation</li>
</ul>
<p>Here are several example scenarios or questions that distributed tracing can
help answer:</p>
<ul>
<li class="">As a new engineer on the team, I want to understand how many separate systems
are involved when a certain user type logs in and the first page is rendered.</li>
<li class="">As an operations engineer, I want to know how many SQL queries are executed
for a given endpoint or interaction.</li>
<li class="">As a product manager, I want to know if a new feature is being used by a
certain cohort of users on a regular basis.</li>
<li class="">As an engineer, I want to prove that an optimization I wrote is effective
in a production environment.</li>
<li class="">As a load tester, after I have shown that a problem exists, I want to
understand how the system is interacting so I can debug and fix the issue.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="adr-goals-and-anti-goals">ADR Goals and Anti-goals<a href="#adr-goals-and-anti-goals" class="hash-link" aria-label="Direct link to ADR Goals and Anti-goals" title="Direct link to ADR Goals and Anti-goals" translate="no">​</a></h3>
<ul>
<li class="">Goal: Choose which set of libraries to use within a codebase (across
programming languages) for generating distributed tracing data</li>
<li class="">Anti-goal: Committing to a specific &quot;backend&quot;, i.e. platform or service for
gathering, exploring, and displaying trace information<!-- -->
<ul>
<li class="">Sub-goal: Leaving open as many options as possible for the backend</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="decision">Decision<a href="#decision" class="hash-link" aria-label="Direct link to Decision" title="Direct link to Decision" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-opentelemetry">Use OpenTelemetry<a href="#use-opentelemetry" class="hash-link" aria-label="Direct link to Use OpenTelemetry" title="Direct link to Use OpenTelemetry" translate="no">​</a></h3>
<ul>
<li class="">OpenTelemetry is an emerging industry standard<!-- -->
<ul>
<li class="">vendors find benefit of being in the OpenTelemetry ecosystem because they
no longer have to create or support instrumentation libraries in an ever
growing array of languages, i.e. as soon as language library exists for
OpenTelemetry, the vendors automatically become available to support that
given language.</li>
</ul>
</li>
<li class="">OpenTelemetry is vendor agnostic<!-- -->
<ul>
<li class="">tracing information can be sent to hosted services (e.g. Honeycomb.io, AWS
X-Ray, etc) or self-hosted Open Source implementations (e.g. Zipkin, Jaeger,
etc)</li>
<li class="">if left unconfigured, OpenTelemetry instrumentation calls default to
lightweight/noop executions</li>
</ul>
</li>
<li class="">OpenTelemetry has well-maintained libraries for the languages used in the
layers of most Truss projects<!-- -->
<ul>
<li class="">i.e. Go (back-end); JavaScript (front-end); Python (load testing); etc</li>
</ul>
</li>
<li class="">Easily swappable back-ends<!-- -->
<ul>
<li class="">e.g. could choose a local Docker version of OpenZipkin for an all-local
development environment</li>
<li class="">e.g. can use Honeycomb.io in the experimental commercial-cloud hosted
environment</li>
<li class="">e.g. can swap in AWS X-Ray for use in GovCloud hosted environments</li>
</ul>
</li>
<li class="">Cons<!-- -->
<ul>
<li class="">as an abstraction layer, OpenTelemetry may prohibit usage of vendor-specific
capabilities</li>
<li class="">some OpenTelemetry libraries and tools may trail their vendor-supported
counterparts</li>
<li class="">instrumentation for tracing may be a vector for performance overhead</li>
<li class="">the specification is relatively new so you may have to use pre-1.0
versions of some libraries</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="why-is-this-applicable-to-the-practice-as-a-whole">Why is this Applicable to the Practice as a Whole<a href="#why-is-this-applicable-to-the-practice-as-a-whole" class="hash-link" aria-label="Direct link to Why is this Applicable to the Practice as a Whole" title="Direct link to Why is this Applicable to the Practice as a Whole" translate="no">​</a></h2>
<p>Most applications will benefit from instrumentation once they are accepting
production traffic. For many systems, a significant amount of work is required
to add tracing calls to the code after substantial development has been
completed. Therefore, instrumentation needs to be part of the development
process early in a project.</p>
<p>Projects should identify what types of calls need to be traced as a part of
discovery and document these decisions in a project-level ADR. For example,
a web backend might add tracing to HTTP requests, service invocations,
database calls, and any network requests made by the backend.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="when-to-not-implement-this-decision">When to Not Implement This Decision<a href="#when-to-not-implement-this-decision" class="hash-link" aria-label="Direct link to When to Not Implement This Decision" title="Direct link to When to Not Implement This Decision" translate="no">​</a></h2>
<p>Don&#x27;t use OpenTelemetry if:</p>
<ul>
<li class="">the ecosystem you are working in doesn&#x27;t have a mature instrumentation
library</li>
<li class="">the project already has a working instrumentation solution using a
proprietary hosted service that is satisfying the project&#x27;s needs</li>
<li class="">the project is too small to support the effort required to implement
tracing. If this is the case, it is probably worth investigating if there
are other implementation options for the project, potentially in
higher-level languages or batteries-included frameworks.</li>
<li class="">it isn&#x27;t possible to setup a backend to collect data</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="alternatives-considered">Alternatives Considered<a href="#alternatives-considered" class="hash-link" aria-label="Direct link to Alternatives Considered" title="Direct link to Alternatives Considered" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-a-vendors-instrumentation-libraries">Use a vendor&#x27;s instrumentation libraries<a href="#use-a-vendors-instrumentation-libraries" class="hash-link" aria-label="Direct link to Use a vendor&#x27;s instrumentation libraries" title="Direct link to Use a vendor&#x27;s instrumentation libraries" translate="no">​</a></h3>
<ul>
<li class=""><code>+</code> Enables accessing vendor-specific capabilities</li>
<li class=""><code>-</code> Vendor lock-in in code<!-- -->
<ul>
<li class="">lock-in may be somewhat mitigated by translation layers available within
the OpenTelemetry ecosystem, at the expense of increased configuration burden</li>
<li class="">example - choosing AWS X-Ray would work well in the deployed GovCloud
environments, but it does not scale down to exclusively local development
environments, i.e. X-Ray does not provide a UI for browsing distributed
traces with their local X-Ray daemon</li>
<li class="">example - choosing Honeycomb.io&#x27;s instrumentation libraries adds a lot of
nice auto-instrumentation capabilities over OpenTelemetry, but since
Honeycomb does not have FedRAMP (nor do most of their peers), the distributed
tracing could not be enabled in the GovCloud deployed environments</li>
<li class="">example - using an open source tool (e.g. OpenZipkin) can scale down to
local development, but would require more infrastructure support to self-host
the data storage and UI tools in the GovCloud environments</li>
</ul>
</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="do-not-instrument">Do not instrument<a href="#do-not-instrument" class="hash-link" aria-label="Direct link to Do not instrument" title="Direct link to Do not instrument" translate="no">​</a></h3>
<ul>
<li class=""><code>+</code> No work to be done</li>
<li class=""><code>-</code> developers and operators continue to use current methods to build their
understanding of the system, which is likely slower and less complete than when
using distributed tracing</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="links">Links<a href="#links" class="hash-link" aria-label="Direct link to Links" title="Direct link to Links" translate="no">​</a></h2>
<ul>
<li class=""><a href="https://youtu.be/_OXYCzwFd1Y" target="_blank" rel="noopener noreferrer" class="">Modern Observability with OpenTelemetry</a> (YouTube video, 12 minutes)</li>
<li class=""><a href="https://player.fm/series/the-infoq-podcast-2896265/ted-young-on-observability-and-the-release-of-opentelemetry-10" target="_blank" rel="noopener noreferrer" class="">Ted Young on Observability and the Release of OpenTelemetry 1.0</a> (The InfoQ Podcast, 33 minutes)</li>
<li class=""><a href="https://petabridge.com/blog/why-use-distributed-tracing/" target="_blank" rel="noopener noreferrer" class="">How Distributed Tracing Solves One of the Worst Microservices Problems</a> (article)</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/trussworks/Engineering-Playbook/edit/main/docs/appeng/adrs/0002-distributed-tracing.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/appeng/adrs/use-typescript"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">0001 - Preference to use TypeScript in place of JavaScript</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/appeng/adrs/open-source-application-code"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">0003 Open Source Application Code</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a><ul><li><a href="#objective" class="table-of-contents__link toc-highlight">Objective</a></li><li><a href="#why-distributed-tracing" class="table-of-contents__link toc-highlight">Why Distributed Tracing?</a></li><li><a href="#adr-goals-and-anti-goals" class="table-of-contents__link toc-highlight">ADR Goals and Anti-goals</a></li></ul></li><li><a href="#decision" class="table-of-contents__link toc-highlight">Decision</a><ul><li><a href="#use-opentelemetry" class="table-of-contents__link toc-highlight">Use OpenTelemetry</a></li></ul></li><li><a href="#why-is-this-applicable-to-the-practice-as-a-whole" class="table-of-contents__link toc-highlight">Why is this Applicable to the Practice as a Whole</a></li><li><a href="#when-to-not-implement-this-decision" class="table-of-contents__link toc-highlight">When to Not Implement This Decision</a></li><li><a href="#alternatives-considered" class="table-of-contents__link toc-highlight">Alternatives Considered</a><ul><li><a href="#use-a-vendors-instrumentation-libraries" class="table-of-contents__link toc-highlight">Use a vendor&#39;s instrumentation libraries</a></li><li><a href="#do-not-instrument" class="table-of-contents__link toc-highlight">Do not instrument</a></li></ul></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2025 TrussWorks, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>