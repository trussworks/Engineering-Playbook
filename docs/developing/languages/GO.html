<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-developing/languages/GO">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">Go | Truss Engineering Playbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playbook.truss.dev/docs/developing/languages/GO"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Go | Truss Engineering Playbook"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://playbook.truss.dev/docs/developing/languages/GO"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/developing/languages/GO" hreflang="en"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/developing/languages/GO" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.24e6a3c2.css">
<link rel="preload" href="/assets/js/runtime~main.c136aba6.js" as="script">
<link rel="preload" href="/assets/js/main.42cc8253.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Engineering Playbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/trussworks/Engineering-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="navbar__search searchBarContainer_NW3z"><input placeholder="Search" aria-label="Search" class="navbar__search-input"><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Engineering Playbook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/compliance">Federal Compliance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/developing">Tools and Practice</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools and Practice&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/bugs">Defects/Bugs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/cicd">CI/CD</a><button aria-label="Toggle the collapsible sidebar category &#x27;CI/CD&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/code-reviews">Code Reviews</a><button aria-label="Toggle the collapsible sidebar category &#x27;Code Reviews&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/command-line-tools">Command Line Tools</a><button aria-label="Toggle the collapsible sidebar category &#x27;Command Line Tools&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/configuration">Configuration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/cycle">Development Cycle</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/direnv">direnv</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/docker">Docker</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/eid">Editors, IDEs and Debuggers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/growth">Growth</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/healthcheck">Health Checks</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/developing/languages">Programming Languages</a><button aria-label="Toggle the collapsible sidebar category &#x27;Programming Languages&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/languages/BASH">Shell programming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/developing/languages/GO">Go</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/languages/python">Python</a><button aria-label="Toggle the collapsible sidebar category &#x27;Python&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/languages/ruby">Ruby</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ruby&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/learning">Learning Resources</a><button aria-label="Toggle the collapsible sidebar category &#x27;Learning Resources&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/nix">nix</a><button aria-label="Toggle the collapsible sidebar category &#x27;nix&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/open-source">Open Source</a><button aria-label="Toggle the collapsible sidebar category &#x27;Open Source&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/pairing">Pair Programming</a><button aria-label="Toggle the collapsible sidebar category &#x27;Pair Programming&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/developing/slack">Slack Best Practices</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/technical-design">Technical Design</a><button aria-label="Toggle the collapsible sidebar category &#x27;Technical Design&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/developing/vcs">Source Control</a><button aria-label="Toggle the collapsible sidebar category &#x27;Source Control&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/documentation">Documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/incident-response">Incident Response</a><button aria-label="Toggle the collapsible sidebar category &#x27;Incident Response&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/infrasec">InfraSec</a><button aria-label="Toggle the collapsible sidebar category &#x27;InfraSec&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/leadership">Leadership</a><button aria-label="Toggle the collapsible sidebar category &#x27;Leadership&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/practices">Engineering Practices</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engineering Practices&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/templates">Templates</a><button aria-label="Toggle the collapsible sidebar category &#x27;Templates&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/web">Web Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/developing"><span itemprop="name">Tools and Practice</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/developing/languages"><span itemprop="name">Programming Languages</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Go</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Go</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a class="hash-link" href="#overview" title="Direct link to heading">​</a></h2><p>Go (a.k.a. Golang) is a programming language designed by folks at Google.</p><p>This guide provides some general resources for working in Go.
<a href="/docs/web/server/go">Web Application in Go</a>
provides some specifics to web development.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="learning-resources">Learning Resources<a class="hash-link" href="#learning-resources" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a class="hash-link" href="#references" title="Direct link to heading">​</a></h3><ul><li><a href="https://golang.org/" target="_blank" rel="noopener noreferrer">The Go Programming Language Official Website</a></li><li><a href="https://golang.org/doc/effective_go.html" target="_blank" rel="noopener noreferrer">Effective Go</a> (how to do things “the Go way”)</li><li><a href="https://github.com/trussworks/go-pointer-primer" target="_blank" rel="noopener noreferrer">Go Pointer Primer</a></li><li><a href="https://pkg.go.dev/" target="_blank" rel="noopener noreferrer">pkg.go.dev</a> (where you can read the docs for nearly any Go package)</li><li><a href="https://github.com/golang/go/wiki/Learn" target="_blank" rel="noopener noreferrer">Go wiki</a></li><li><em>Book</em>: <a href="http://www.gopl.io/" target="_blank" rel="noopener noreferrer">The Go Programming Language</a></li><li>Advanced Testing with Go
<a href="https://www.youtube.com/watch?v=yszygk1cpEc" target="_blank" rel="noopener noreferrer">Video</a>
and <a href="https://about.sourcegraph.com/go/advanced-testing-in-go" target="_blank" rel="noopener noreferrer">Article</a> (great overview of useful techniques, useful for all Go programmers)</li><li><a href="https://go-proverbs.github.io/" target="_blank" rel="noopener noreferrer">Go Proverbs</a></li><li><a href="https://medium.com/@matryer/line-of-sight-in-code-186dd7cdea88" target="_blank" rel="noopener noreferrer">Line of Sight Go</a></li><li><a href="https://peter.bourgon.org/go-for-industrial-programming/" target="_blank" rel="noopener noreferrer">Go for Industrial Programming</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tourslessons">Tours/Lessons<a class="hash-link" href="#tourslessons" title="Direct link to heading">​</a></h3><ul><li><a href="https://tour.golang.org" target="_blank" rel="noopener noreferrer">A Tour of Go</a> (in-browser interactive language tutorial)</li><li><a href="https://golang.org/doc/code.html" target="_blank" rel="noopener noreferrer">How to Write Go Code</a> (info about the Go environment, testing, etc.)</li><li><a href="https://gobyexample.com" target="_blank" rel="noopener noreferrer">Go by Example</a></li><li><a href="https://exercism.io/tracks/go" target="_blank" rel="noopener noreferrer">Go Track on Exercism</a></li><li><em>Article</em>: <a href="https://medium.com/@venks.sa/copying-data-from-s3-to-ebs-30x-faster-using-go-e2cdb1093284" target="_blank" rel="noopener noreferrer">Copying data from S3 to EBS 30x faster using Golang</a></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="testing">Testing<a class="hash-link" href="#testing" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="general">General<a class="hash-link" href="#general" title="Direct link to heading">​</a></h3><ul><li>Use <a href="https://dave.cheney.net/2019/05/07/prefer-table-driven-tests" target="_blank" rel="noopener noreferrer">table-driven tests</a> where appropriate.</li><li>Make judicious use of helper functions so that the intent of a test is not lost in a sea of error checking and boilerplate.</li><li>Comments delineating the <a href="https://medium.com/@pjbgf/title-testing-code-ocd-and-the-aaa-pattern-df453975ab80" target="_blank" rel="noopener noreferrer">3</a> or <a href="https://thoughtbot.com/blog/four-phase-test" target="_blank" rel="noopener noreferrer">4</a> phases of your tests can help with comprehension.</li><li>Use <a href="https://golang.org/pkg/testing/#T.Helper" target="_blank" rel="noopener noreferrer"><code>t.Helper()</code></a> in your test helper functions to keep stack traces clean.</li><li>Use <a href="https://rakyll.org/parallelize-test-tables/" target="_blank" rel="noopener noreferrer"><code>t.Parallel()</code></a> to speed up tests.</li><li>Trend away from using <a href="https://pkg.go.dev/github.com/stretchr/testify/suite" target="_blank" rel="noopener noreferrer"><code>testify/suite</code></a>. (It used to address some shortcomings in the standard library <code>testing</code> tools that have since been addressed.)</li><li>Lightweight assertion packages can help with expressiveness. Consider using <a href="https://pkg.go.dev/github.com/stretchr/testify@v1.7.0/assert" target="_blank" rel="noopener noreferrer"><code>testify/assert</code></a> or <a href="https://pkg.go.dev/github.com/matryer/is" target="_blank" rel="noopener noreferrer"><code>is</code></a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="coverage">Coverage<a class="hash-link" href="#coverage" title="Direct link to heading">​</a></h3><ul><li>Always test exported functions.
Exported functions should be treated as an API layer for other packages.
Cover the expected behavior and error scenarios as a user of that API.<ul><li>Consider using the <a href="https://golang.org/cmd/go/#hdr-Test_packages" target="_blank" rel="noopener noreferrer"><code>_test</code> package suffix</a>
to simulate calling the package under test from an external package</li></ul></li><li>Try not to test unexported functions.
Unexported functions are implementation details of exported ones
and should not change the intended usage.
If you find that an unexported function is complex and needs testing,
it might mean it needs to be refactored as it&#x27;s exported function elsewhere.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a class="hash-link" href="#context" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="function-first-parameter">Function First Parameter<a class="hash-link" href="#function-first-parameter" title="Direct link to heading">​</a></h3><p>As a general rule, <code>context.Context</code> should be passed down through the layers of your program, as this is the conventional Go way <a href="https://blog.golang.org/context-and-structs#TOC_5." target="_blank" rel="noopener noreferrer">to address &quot;cross cutting concerns&quot;</a>, e.g. cancellation, logging, distributed tracing, or other types of instrumentation (which in other languages might be addressed via Thread Locals or similar constructs).</p><p>At Google, they found this pattern to be so useful that <a href="https://blog.golang.org/context#TOC_5." target="_blank" rel="noopener noreferrer">they require it</a>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="errors">Errors<a class="hash-link" href="#errors" title="Direct link to heading">​</a></h2><p>FYI, Go&#x27;s error handling had a bit of a shift and update
<a href="https://blog.golang.org/go1.13-errors" target="_blank" rel="noopener noreferrer">as of 1.13</a> in ~2019.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="wrap-errors">Wrap Errors<a class="hash-link" href="#wrap-errors" title="Direct link to heading">​</a></h3><p>Prior to Go 1.13, people were forced to make a hard choice: either add
descriptive context around an error that was received, or to just pass the
error through in case it was a &quot;sentinel error&quot; like the canonical <code>io.EOF</code>
example. Nowadays you can both add context to an error, and still ensure the
caller can examine the error to see if it is a sentinel.</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain">err </span><span class="token operator" style="color:#063289">:=</span><span class="token plain"> </span><span class="token operator" style="color:#063289">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">if</span><span class="token plain"> err </span><span class="token operator" style="color:#063289">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token keyword" style="color:#728fcb">if</span><span class="token plain"> oldStyle </span><span class="token operator" style="color:#063289">==</span><span class="token plain"> </span><span class="token boolean" style="color:#728fcb">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// this is the pre-1.13 error encapsulation.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// the problem here is that this created a whole new error,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// which hid the underlying error type.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">return</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Errorf</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;&lt;richer contextual information&gt;: %v&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token comment" style="color:#b6ad9a">// using the &quot;%w&quot; (wrap) verb means that the error chain is returned</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token comment" style="color:#b6ad9a">// and can be examined by the caller using the</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token comment" style="color:#b6ad9a">// `errors.Unrwap(...)` or `errors.Is(...)` functions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token keyword" style="color:#728fcb">return</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Errorf</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;&lt;richer contextual information&gt;: %w&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> err</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since these capabilities changed fairly recently, it&#x27;s common to see many
libraries and legacy code not using the wrapping pattern, but going forward it
is preferable to opt for wrapping errors where possible.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="handle-errors-once">Handle Errors Once<a class="hash-link" href="#handle-errors-once" title="Direct link to heading">​</a></h3><p>This advice is mostly stolen from the second-to-last section of Dave Cheney&#x27;s
somewhat dated <a href="https://dave.cheney.net/2016/04/27/dont-just-check-errors-handle-them-gracefully" target="_blank" rel="noopener noreferrer">blog post</a>.</p><p>If there are 0 side effects from an error received in your code, this means
you are swallowing it, and this will generally make someone&#x27;s life (maybe even
yours) more difficult in the future. Please don&#x27;t ignore errors.</p><p>If there are 2+ side effects from receiving an error, you are adding too much
noise to the system. This usually manifests as doing BOTH logging of the error
AND returning the error back up the call stack, but if every layer were to do
this you&#x27;d fill your logs with unnecessary duplication.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="eliminate-errors">Eliminate Errors<a class="hash-link" href="#eliminate-errors" title="Direct link to heading">​</a></h3><p>This section is ispired by another Dave Cheney
<a href="https://dave.cheney.net/2019/01/27/eliminate-error-handling-by-eliminating-errors" target="_blank" rel="noopener noreferrer">missive</a>.</p><p>It is possible to reduce error handling overhead by considering if your
functions absolutely need to return errors. Consider the following:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">Logger</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">ctx context</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Context</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token operator" style="color:#063289">*</span><span class="token plain">zap</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Logger</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token builtin">bool</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  logger</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> ok </span><span class="token operator" style="color:#063289">:=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Value</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">loggerKey</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token operator" style="color:#063289">*</span><span class="token plain">zap</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Logger</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token keyword" style="color:#728fcb">return</span><span class="token plain"> logger</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> ok</span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This function means that every place that wants a <code>*zap.Logger</code> has to deal
with the <code>!ok</code> condition, creating a lot of boilerplate checking at callsites
who likely have no idea what the proper fallback is if there is no logger
defined.</p><p>As a consumer, wouldn&#x27;t the following function signature be easier to deal
with?:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">Logger</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">ctx context</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Context</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token operator" style="color:#063289">*</span><span class="token plain">zap</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Logger </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  logger</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> ok </span><span class="token operator" style="color:#063289">:=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Value</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">loggerKey</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token operator" style="color:#063289">*</span><span class="token plain">zap</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Logger</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token keyword" style="color:#728fcb">if</span><span class="token plain"> ok </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">return</span><span class="token plain"> logger</span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  fmt</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Fprintf</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">os</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Stderr</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;no logger configured&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token keyword" style="color:#728fcb">return</span><span class="token plain"> zap</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">NewNoopLogger</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Callers can now be sure that they will always get a logger of <em>some</em> type. And
we&#x27;ve centralized, rather than distributed, the fallback behavior. (This
implementation chose to communicate the configuration problem to the system
operators via <code>stderr</code>, but you might also choose to <code>panic()</code>, or do something
else, YMMV.)</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="packages">Packages<a class="hash-link" href="#packages" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dependency-management">Dependency Management<a class="hash-link" href="#dependency-management" title="Direct link to heading">​</a></h3><ul><li><a href="https://blog.golang.org/v2-go-modules" target="_blank" rel="noopener noreferrer">Go Modules</a> has become the standard way to manage your dependencies</li><li>Before Go Modules were solidified, <code>dep</code> was frequently used for dependency management.<ul><li>This might be helpful if you are dealing with an older project: <a href="https://golang.github.io/dep/docs/daily-dep.html" target="_blank" rel="noopener noreferrer">Daily Dep documentation</a> (common tasks you’ll encounter with the dependency manager)</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="prefer-standard-libraries">Prefer Standard Libraries<a class="hash-link" href="#prefer-standard-libraries" title="Direct link to heading">​</a></h3><p>In general,
when selecting new packages,
highly consider standard libraries over third party dependencies.
One of the strengths of Go
is its core packages,
such as
<a href="https://golang.org/pkg/net/http/" target="_blank" rel="noopener noreferrer">http</a>,
<a href="https://golang.org/pkg/encoding/json/" target="_blank" rel="noopener noreferrer">json</a>,
and <a href="https://golang.org/pkg/database/sql/" target="_blank" rel="noopener noreferrer">sql</a>.
These libraries also use vocabulary and patterns
easily accessible via popular public Go resources,
which are often translatable to modern programming approaches
in their respective areas.
This creates an easier bridge
for Engineers new to Go
or domain areas (such as relational databases)
to adjust and onboard.</p><p>Since the third party ecosystem is still new,
packages may have little community support,
follow opinionated patterns inconsistent with Go idioms,
or lack long term support.
When choosing a third party package,
carefully weigh the cost adoption and support contributions.
Document the decision
and any shortcomings of a comparable standard library
along with a rollback plan.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="third-party-packages">Third Party Packages<a class="hash-link" href="#third-party-packages" title="Direct link to heading">​</a></h3><p>Some examples of third party packages we&#x27;ve found to be helpful and stable are:</p><ul><li><a href="https://github.com/jmoiron/sqlx" target="_blank" rel="noopener noreferrer">sqlx</a>
for SQL querying and struct marshalling.</li><li><a href="https://github.com/spf13/cobra" target="_blank" rel="noopener noreferrer">cobra/pflag/viper</a>
for writing command line utilities.</li></ul><p>If you&#x27;re exploring a new package,
<a href="https://awesome-go.com/" target="_blank" rel="noopener noreferrer">Awesome Go</a>
is a good place to start.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="time">Time<a class="hash-link" href="#time" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="clock-dependency">Clock Dependency<a class="hash-link" href="#clock-dependency" title="Direct link to heading">​</a></h3><p><code>time.Now()</code> can cause a lot of side effects in a codebase.
One example is
that you can&#x27;t test the &quot;current&quot; time
that happened in a function you called in the past</p><p>For example, let&#x27;s say we have the following:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">package</span><span class="token plain"> mypackage</span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">import</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;time&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">MyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> time</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Time </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">return</span><span class="token plain"> time</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Now</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">TestMyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">t </span><span class="token operator" style="color:#063289">*</span><span class="token plain">testing</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">T</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token function" style="color:#b29762">MyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token operator" style="color:#063289">!=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Now</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token comment" style="color:#b6ad9a">// This will error!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token comment" style="color:#b6ad9a">// The time in the function and the test happen at different times</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        t</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Errorf</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;time was not now&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>How do we test the contents of the return here?
If we want to assert the time
we need a way to know what <code>time.Now()</code> was when the function was called.</p><p>Instead of directly using the <code>time</code> package,
we can pass a clock as a dependency and call <code>.Now()</code> on that.
Then in our tests, we can assert against that clock!
The clock can be anything as long as it adheres to the <code>clock.Clock</code> interface
as defined in the
<a href="https://godoc.org/github.com/facebookgo/clock#Clock" target="_blank" rel="noopener noreferrer">facebookgo clock package</a>.
We could, for example,
make the clock always return the year 0,
or the 2019 New Year,
or maybe your birthday!
In this clock package,
there are two clocks.</p><ul><li>The real clock where <code>clock.Now()</code> will call <code>time.Now()</code>.</li><li>A mock clock where <code>clock.Now()</code> always returns epoch time.
We&#x27;ll show later how to change that!</li></ul><p>Let&#x27;s look at the example above with the <code>clock</code> package.</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">package</span><span class="token plain"> mypackage</span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">import</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;fmt&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">import</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;time&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">import</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;github.com/facebookgo/clock&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">MyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">clock clock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Clock</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> time</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">Time </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">return</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Now</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token comment" style="color:#b6ad9a">// Then our caller</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">main</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// clock.New() creates a clock that uses the time package</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token comment" style="color:#b6ad9a">// it will output current time when .Now() is called</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    fmt</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Print</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token function" style="color:#b29762">MyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">clock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">New</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then in our tests we can use a mock clock that freezes <code>.Now()</code> at epoch time:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">TestMyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">t </span><span class="token operator" style="color:#063289">*</span><span class="token plain">testing</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">T</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    testClock </span><span class="token operator" style="color:#063289">:=</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">NewMock</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token function" style="color:#b29762">MyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">testClock</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token operator" style="color:#063289">!=</span><span class="token plain"> testClock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Now</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token comment" style="color:#b6ad9a">// both should equal epoch time, we won&#x27;t hit this error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        t</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Errorf</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;time was not now&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Cool, but what if I want to use a different date?
Say my test relies on our <code>TestYear</code> constant.
The <a href="https://godoc.org/github.com/facebookgo/clock#Mock" target="_blank" rel="noopener noreferrer">clock.Mock clock</a>
allows us to add durations to the clock and set the current time.
Note that the <code>clock.Clock</code> interface does not allow this,
it needs to happen before passing the mock clock through the interface parameter.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="setting-the-mock-clock">Setting the Mock Clock<a class="hash-link" href="#setting-the-mock-clock" title="Direct link to heading">​</a></h4><p>Here&#x27;s an example using the test above and setting the time to September 30 of TestYear:</p><div class="language-go codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-go codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token keyword" style="color:#728fcb">func</span><span class="token plain"> </span><span class="token function" style="color:#b29762">TestMyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">t </span><span class="token operator" style="color:#063289">*</span><span class="token plain">testing</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">T</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    testClock </span><span class="token operator" style="color:#063289">:=</span><span class="token plain"> clock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">NewMock</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    dateToTest </span><span class="token operator" style="color:#063289">:=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Date</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">TestYear</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> time</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">September</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">30</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">0</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">0</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">0</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token number" style="color:#063289">0</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> time</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token plain">UTC</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    timeDiff </span><span class="token operator" style="color:#063289">:=</span><span class="token plain"> dateToTest</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Sub</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">c</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Now</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    testClock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Add</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">timeDiff</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token keyword" style="color:#728fcb">if</span><span class="token plain"> </span><span class="token function" style="color:#b29762">MyTimeFunc</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token plain">testClock</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token operator" style="color:#063289">!=</span><span class="token plain"> testClock</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Now</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token comment" style="color:#b6ad9a">// both will now be September 30 of TestYear</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token comment" style="color:#b6ad9a">// we&#x27;ll pass the test again</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        t</span><span class="token punctuation" style="color:#b6ad9a">.</span><span class="token function" style="color:#b29762">Errorf</span><span class="token punctuation" style="color:#b6ad9a">(</span><span class="token string" style="color:#728fcb">&quot;time was not now&quot;</span><span class="token punctuation" style="color:#b6ad9a">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="httpresponsewriter"><code>http.ResponseWriter</code><a class="hash-link" href="#httpresponsewriter" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-status-codes--bytes-written">HTTP Status Codes &amp; Bytes Written<a class="hash-link" href="#http-status-codes--bytes-written" title="Direct link to heading">​</a></h3><p>There are a surprising number of
<a href="https://en.wiktionary.org/wiki/footgun" target="_blank" rel="noopener noreferrer">footguns</a> associated with trying to
gather statistics about an HTTP request, having to do with several obscure
and optional (&quot;smuggled&quot;?) <code>http.ResponseWriter</code> interfaces. This is a
regularly occurring challenge for anyone trying to implement a request-
logging middleware.</p><p>The recommended package for this task is called
<a href="https://github.com/felixge/httpsnoop" target="_blank" rel="noopener noreferrer">httpsnoop</a>, and the author has a great
explaination of
<a href="https://github.com/felixge/httpsnoop#why-this-package-exists" target="_blank" rel="noopener noreferrer">&quot;Why this package exists&quot;</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/trussworks/Engineering-Playbook/edit/main/docs/developing/languages/GO.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/developing/languages/BASH"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Shell programming</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/developing/languages/python"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Python</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#learning-resources" class="table-of-contents__link toc-highlight">Learning Resources</a><ul><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li><li><a href="#tourslessons" class="table-of-contents__link toc-highlight">Tours/Lessons</a></li></ul></li><li><a href="#testing" class="table-of-contents__link toc-highlight">Testing</a><ul><li><a href="#general" class="table-of-contents__link toc-highlight">General</a></li><li><a href="#coverage" class="table-of-contents__link toc-highlight">Coverage</a></li></ul></li><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a><ul><li><a href="#function-first-parameter" class="table-of-contents__link toc-highlight">Function First Parameter</a></li></ul></li><li><a href="#errors" class="table-of-contents__link toc-highlight">Errors</a><ul><li><a href="#wrap-errors" class="table-of-contents__link toc-highlight">Wrap Errors</a></li><li><a href="#handle-errors-once" class="table-of-contents__link toc-highlight">Handle Errors Once</a></li><li><a href="#eliminate-errors" class="table-of-contents__link toc-highlight">Eliminate Errors</a></li></ul></li><li><a href="#packages" class="table-of-contents__link toc-highlight">Packages</a><ul><li><a href="#dependency-management" class="table-of-contents__link toc-highlight">Dependency Management</a></li><li><a href="#prefer-standard-libraries" class="table-of-contents__link toc-highlight">Prefer Standard Libraries</a></li><li><a href="#third-party-packages" class="table-of-contents__link toc-highlight">Third Party Packages</a></li></ul></li><li><a href="#time" class="table-of-contents__link toc-highlight">Time</a><ul><li><a href="#clock-dependency" class="table-of-contents__link toc-highlight">Clock Dependency</a></li></ul></li><li><a href="#httpresponsewriter" class="table-of-contents__link toc-highlight"><code>http.ResponseWriter</code></a><ul><li><a href="#http-status-codes--bytes-written" class="table-of-contents__link toc-highlight">HTTP Status Codes &amp; Bytes Written</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2023 TrussWorks, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.c136aba6.js"></script>
<script src="/assets/js/main.42cc8253.js"></script>
</body>
</html>