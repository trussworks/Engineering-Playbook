<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-infrasec/bootstrap">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">Project Bootstrap Guide | Truss Engineering Playbook</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playbook.truss.dev/docs/infrasec/bootstrap"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Project Bootstrap Guide | Truss Engineering Playbook"><meta data-rh="true" name="description" content="When we&#x27;re starting up a new project, often there is a period of time"><meta data-rh="true" property="og:description" content="When we&#x27;re starting up a new project, often there is a period of time"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://playbook.truss.dev/docs/infrasec/bootstrap"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/infrasec/bootstrap" hreflang="en"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/infrasec/bootstrap" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.07a89bfb.css">
<link rel="preload" href="/assets/js/runtime~main.e6ad17b8.js" as="script">
<link rel="preload" href="/assets/js/main.ba051568.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Engineering Playbook</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/trussworks/Engineering-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Engineering Playbook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/compliance">Federal Compliance</a><button aria-label="Toggle the collapsible sidebar category &#x27;Federal Compliance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/developing">Tools and Practice</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools and Practice&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/documentation">Documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/incident-response">Incident Response</a><button aria-label="Toggle the collapsible sidebar category &#x27;Incident Response&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/infrasec">InfraSec</a><button aria-label="Toggle the collapsible sidebar category &#x27;InfraSec&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/alert-providers">Alert Providers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/infrasec/ansible">Ansible</a><button aria-label="Toggle the collapsible sidebar category &#x27;Ansible&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/infrasec/aws">AWS</a><button aria-label="Toggle the collapsible sidebar category &#x27;AWS&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/book-club">Book Club</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/infrasec/bootstrap">Project Bootstrap Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/certs">SSL Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/charter">InfraSec Practice Charter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/good-infra">Good Infrastructure - A Philosophy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/pro-dev">Professional Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/teardown">Project Teardown Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/infrasec/terraform">Terraform</a><button aria-label="Toggle the collapsible sidebar category &#x27;Terraform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/infrasec/tutorials">Tutorials</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tutorials&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/leadership">Leadership</a><button aria-label="Toggle the collapsible sidebar category &#x27;Leadership&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/practices">Engineering Practices</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engineering Practices&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/templates">Templates</a><button aria-label="Toggle the collapsible sidebar category &#x27;Templates&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/web">Web Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/infrasec"><span itemprop="name">InfraSec</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">Project Bootstrap Guide</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Project Bootstrap Guide</h1><p>When we&#x27;re starting up a new project, often there is a period of time
where the design and research team is doing their initial work, we don&#x27;t
have any infrastructure set up, and engineers want to do some initial
experimentation. This guide is intended as a resource for infrastructure
engineers bootstrapping a new project from scratch. Not all projects will
need all of the elements here; for instance, if you&#x27;re working in an
existing organization&#x27;s AWS accounts or git repos, then you won&#x27;t likely
need to set up your own.</p><ul><li><a href="#github-and-git-repos">GitHub and Git Repos</a></li><li><a href="#1password">1Password</a></li><li><a href="#aws-organization-and-accounts">AWS Organization and Accounts</a><ul><li><a href="#govcloud">GovCloud</a></li><li><a href="#atlantis">Atlantis</a></li><li><a href="#placeholder-service-modules">Placeholder service modules</a></li></ul></li><li><a href="#cicd-pipeline">CI/CD Pipeline</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="github-and-git-repos">GitHub and Git Repos<a class="hash-link" href="#github-and-git-repos" title="Direct link to heading">‚Äã</a></h2><p>The first thing you will likely need to do for your project is create
a number of GitHub repos and possibly a new GitHub organization. This
is the prerequisite for nearly everything else you need to do to set
up your infrastructure, so doing it as early as possible is a good idea.</p><ul><li>If your client does not have an organization for you to do this in,
or if they would prefer you create a new one, then you will need to
create a new GitHub organization. GitHub has
<a href="https://docs.github.com/en/organizations/collaborating-with-groups-in-organizations/creating-a-new-organization-from-scratch" target="_blank" rel="noopener noreferrer">docs</a>
that explain this process; you will probably want the &quot;GitHub Team&quot;
product, and use the Truss admin credit card to handle this cost. It&#x27;s
also a good idea to make sure the leads for your project are owners,
and probably your contact at the client organization as well. This
will allow them to easily add or remove new members if necessary.</li><li>Once you have a GitHub organization, you will need to create a number
of repositories:<ul><li><code>myproject-infra</code> - This is a repo which you will use to hold the
Terraform code used to configure your project&#x27;s AWS (or other cloud
service) account(s).</li><li>application repo(s) - You should talk to the AppEng lead to see how
they would like to organize the application and create repos they
can use early on. Some projects, like MyMove, may want a single repo
for all the application code, but other projects may want separate
repos for the frontend and backend, for instance. Neither of these
is inherently correct, so consult with the AppEng lead (if you have
one) to make this decision.</li><li><code>myproject-infra-gov</code> - If your project is going to need to have
resources in GovCloud, as many of ours do, you will need another repo
for the Terraform used for that. This is for two reasons; one, we
generally want tighter permissions on who has access to this repo, and
second, if we want to have <a href="https://runatlantis.io" target="_blank" rel="noopener noreferrer">Atlantis</a> handling
the infrastructure in these accounts, we need a separate repo.</li></ul></li><li>If at all possible, you should be using Terraform to maintain the users,
teams, and repos for your project. The catch being that you&#x27;ll need your
<code>myproject-infra</code> repo first.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="1password">1Password<a class="hash-link" href="#1password" title="Direct link to heading">‚Äã</a></h2><p>It is highly likely that you will want to get a 1Password team for your
project. This will allow you to store things like passwords and MFA codes
for AWS accounts, GitHub &quot;robot&quot; users, and anything else that you need
to give members of the team access to.</p><p>You can create a new account by going to <a href="https://1password.com" target="_blank" rel="noopener noreferrer">https://1password.com</a> and
clicking on &quot;sign in&quot; in the upper right hand corner, and then instead
of clicking on an existing account, click on &quot;create a new account&quot; at
the bottom of the page, then click on &quot;for my team&quot; on the next page,
and follow the creation dialogue. Use the Truss admin card for the
charges.</p><p>You should only need to add people who actually need to access these
credentials for the project to the team (since there&#x27;s a charge per-user).
This generally means all members of the infra team, the engineering lead,
and the project lead -- but you can always add more people later if
necessary.</p><p>Like the GitHub organization/repositories, this should probably be done
as early in the process as possible, since you will want to store
credentials for the other accounts you are creating.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="aws-organization-and-accounts">AWS Organization and Accounts<a class="hash-link" href="#aws-organization-and-accounts" title="Direct link to heading">‚Äã</a></h2><p>Once you have a Git repo and 1Password set up, you will want to set up
your AWS organization and/or accounts. Even if you don&#x27;t have an actual
application to stand up yet, you should get this bootstrapped so that
things are ready to go.</p><p>If you are starting from scratch, you will need to open a new AWS account
by going to <a href="https://aws.amazon.com" target="_blank" rel="noopener noreferrer">https://aws.amazon.com</a> and creating an AWS account, using
the Truss admin card as the billing information. This account will be your
<code>org-root</code> account that will start your
<a href="/docs/infrasec/aws/aws-organizations">AWS Organization</a>. Once that is created, you
should bootstrap Terraform in it and set up the <code>admin-global</code> namespace.
Things you will want to set up in the <code>org-root</code> account:</p><ul><li>AWS logs S3 bucket</li><li>IAM users for org-root users (infra users only)</li><li>AWS Config for the organization</li><li>AWS Cloudtrail for the organization</li><li>AWS GuardDuty for the organization</li></ul><p>Once that is done, you&#x27;ll also need to set up some other accounts using
Terraform in the <code>org-root</code> account:</p><ul><li><code>-id</code> account for handling all your IAM users</li><li><code>-infra</code> account for project-wide infrastructure</li><li><code>-dev</code> account for your dev deployment of the application</li></ul><p>You may want to set up others as well (<code>-staging</code> or <code>-prod</code> for instance),
but these are probably the ones you want as soon as possible.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="govcloud">GovCloud<a class="hash-link" href="#govcloud" title="Direct link to heading">‚Äã</a></h3><p>If you will need to be using GovCloud for this project, you should set
up the parallel organization in GovCloud as well. See the (GovCloud
Organization)<!-- -->[<!-- -->./aws/govcloud/gov-orgs.md<!-- -->]<!-- --> docs for an explanation of how
to set this up.</p><p>If you will be working entirely in GovCloud, you will not need the <code>-dev</code>
account in your commercial organization; you can leave your commercial
organization with only the <code>org-root</code>, <code>-id</code>, and <code>-infra</code> accounts. These
will be necessary because there are some things that can <strong>only</strong> be done
in commercial AWS, such as public DNS.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="atlantis">Atlantis<a class="hash-link" href="#atlantis" title="Direct link to heading">‚Äã</a></h3><p>If you plan to use <a href="https://runatlantis.io" target="_blank" rel="noopener noreferrer">Atlantis</a> to maintain your
Terraform (which we highly recommend), you should also consider setting
this up early. We have an <a href="/docs/infrasec/terraform/atlantis">Atlantis doc</a> that
will help you set this up.</p><p>Setting up Atlantis early will get your engineers used to the workflow
and encourage good Terraform habits from the start. This will mean less
headaches later trying to figure out which changes are expected and which
are not.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="placeholder-service-modules">Placeholder service modules<a class="hash-link" href="#placeholder-service-modules" title="Direct link to heading">‚Äã</a></h3><p>Once the AppEng lead has identified, at a high level, the services they
will be deploying -- such as a frontend, backend, and database -- you
should start building Terraform modules to deploy these components. Even
if, at this point, they are largely placeholders, you should start
figuring out what you&#x27;ll need to get these working -- things like ECS
services, RDS instances, ALBs, VPCs, security groups, IAM roles, etc.</p><p>Even if there isn&#x27;t much to actually put there, and the service will be
dormant, working this out <em>before</em> you need to start demoing things for
the client will help you work out any kinks and help developers get a
tight feedback loop once they start working on the application in earnest.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="cicd-pipeline">CI/CD Pipeline<a class="hash-link" href="#cicd-pipeline" title="Direct link to heading">‚Äã</a></h2><p>Setting up your CI/CD pipeline early is another piece of automation that
will pay off in the long run. Doing so means that developers will get used
to the idea that their changes will be put, at the very least, into a real
running environment every time they push, which means that building in
tests and operability are not optional components or things to be added
later.</p><p>Truss tends to use either CircleCI or GitHub Actions for our projects;
GitHub Actions are newer and as a result our patterns for them are not as
well-developed, however they have a lower barrier to entry and you can
use them on a limited basis for free even with private repos. It may also
easier to use GitHub Actions in environments where clients are cool on
using a SaaS product like CircleCI (since they are already likely using
GitHub). Alternatively, you may need to use a CI/CD pipeline that the
client already uses.</p><p>Regardless of which you pick, you should start wiring up the application
repo(s) to your pipeline early, and making sure there is an automated
deployment into the dev environment at the very least as close to the
beginning of the project as possible. This means that your pipeline
should at least do the following:</p><ul><li>run pre-commit checks on the repo for each PR</li><li>run tests (and possibly output code coverage metrics as well)</li><li>build a docker image and push it to ECR</li><li>attempt to deploy the application, usually by updating the ECS task
definition, and if at all possible, ensure that the correct version
comes up and stays up, rolling back if it does not</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/trussworks/Engineering-Playbook/edit/main/docs/infrasec/bootstrap.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/infrasec/book-club"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Book Club</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/infrasec/certs"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SSL Certificates</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#github-and-git-repos" class="table-of-contents__link toc-highlight">GitHub and Git Repos</a></li><li><a href="#1password" class="table-of-contents__link toc-highlight">1Password</a></li><li><a href="#aws-organization-and-accounts" class="table-of-contents__link toc-highlight">AWS Organization and Accounts</a><ul><li><a href="#govcloud" class="table-of-contents__link toc-highlight">GovCloud</a></li><li><a href="#atlantis" class="table-of-contents__link toc-highlight">Atlantis</a></li><li><a href="#placeholder-service-modules" class="table-of-contents__link toc-highlight">Placeholder service modules</a></li></ul></li><li><a href="#cicd-pipeline" class="table-of-contents__link toc-highlight">CI/CD Pipeline</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2022 TrussWorks, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.e6ad17b8.js"></script>
<script src="/assets/js/main.ba051568.js"></script>
</body>
</html>