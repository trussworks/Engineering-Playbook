<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-infrasec/aws/aws-organizations">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<title data-rh="true">[AWS](README.md) / AWS Organizations | Truss Engineering Playbook</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playbook.truss.dev/docs/infrasec/aws/aws-organizations"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="[AWS](README.md) / AWS Organizations | Truss Engineering Playbook"><meta data-rh="true" name="description" content="AWS Organizations"><meta data-rh="true" property="og:description" content="AWS Organizations"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://playbook.truss.dev/docs/infrasec/aws/aws-organizations"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/infrasec/aws/aws-organizations" hreflang="en"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/infrasec/aws/aws-organizations" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.07a89bfb.css">
<link rel="preload" href="/assets/js/runtime~main.299b1956.js" as="script">
<link rel="preload" href="/assets/js/main.62abf46a.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Engineering Playbook</b></a><a class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/trussworks/Engineering-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_RiAD"><nav class="menu thin-scrollbar menu_izAj"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Engineering Playbook</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/compliance">Federal Compliance</a><button aria-label="Toggle the collapsible sidebar category &#x27;Federal Compliance&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/developing">[Engineering Playbook](../README.md) / Tools and Practice</a><button aria-label="Toggle the collapsible sidebar category &#x27;[Engineering Playbook](../README.md) / Tools and Practice&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/documentation">[Engineering Playbook](../README.md) / Documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;[Engineering Playbook](../README.md) / Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/incident-response">[Engineering Playbook](../README.md) / Incident Response</a><button aria-label="Toggle the collapsible sidebar category &#x27;[Engineering Playbook](../README.md) / Incident Response&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/infrasec">[Engineering Playbook](../README.md) / InfraSec</a><button aria-label="Toggle the collapsible sidebar category &#x27;[Engineering Playbook](../README.md) / InfraSec&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/alert-providers">[InfraSec](README.md) / Alert Providers</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/infrasec/ansible">[InfraSec](../README.md) / Ansible</a><button aria-label="Toggle the collapsible sidebar category &#x27;[InfraSec](../README.md) / Ansible&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/infrasec/aws">[InfraSec](../README.md) / AWS</a><button aria-label="Toggle the collapsible sidebar category &#x27;[InfraSec](../README.md) / AWS&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/infrasec/aws/aws-organizations">[AWS](README.md) / AWS Organizations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/infrasec/aws/govcloud">[AWS](../README.md) / Working in GovCloud</a><button aria-label="Toggle the collapsible sidebar category &#x27;[AWS](../README.md) / Working in GovCloud&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/aws/guardduty">[AWS](README.md) / GuardDuty for Organizations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/aws/naming">[AWS](README.md) / Naming</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/aws/org-bootstrap">[AWS](README.md) / Bootstrapping an AWS Organization</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/aws/sns-guardduty-alert-integrations">[AWS](README.md) / Using SNS, GuardDuty, and External Integrations with AWS Organizations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/aws/sns-topics">[AWS](README.md) / SNS Topics</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/aws/vpcs">[AWS](README.md) / VPC Configuration</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/book-club">[InfraSec](README.md) / book-club</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/bootstrap">[InfraSec](README.md) / Project Bootstrap Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/certs">[InfraSec](README.md) / SSL Certificates</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/charter">[InfraSec](README.md) / InfraSec Practice Charter</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/good-infra">[InfraSec](README.md) / Good Infrastructure - A Philosophy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/pro-dev">[InfraSec](README.md) / Professional Development</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/infrasec/teardown">[InfraSec](README.md) / Project Teardown Guide</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/docs/infrasec/terraform">[InfraSec](../README.md) / Terraform</a><button aria-label="Toggle the collapsible sidebar category &#x27;[InfraSec](../README.md) / Terraform&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/docs/infrasec/tutorials/circle-ci-honeycomb-integrations">tutorials</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/leadership">[Engineering Playbook](../README.md) / Leadership</a><button aria-label="Toggle the collapsible sidebar category &#x27;[Engineering Playbook](../README.md) / Leadership&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/practices">Engineering Practices</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engineering Practices&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/templates">[Engineering Playbook](../README.md) / Templates</a><button aria-label="Toggle the collapsible sidebar category &#x27;[Engineering Playbook](../README.md) / Templates&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/web">[Engineering Playbook](../README.md) / Web Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;[Engineering Playbook](../README.md) / Web Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Xlws" aria-label="breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/">üè†</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/infrasec"><span itemprop="name">[Engineering Playbook](../README.md) / InfraSec</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/infrasec/aws"><span itemprop="name">[InfraSec](../README.md) / AWS</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="item name">[AWS](README.md) / AWS Organizations</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1><a href="/docs/infrasec/aws">AWS</a> / AWS Organizations</h1><p><a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_introduction.html" target="_blank" rel="noopener noreferrer">AWS Organizations</a>
provide a native way to manage multiple AWS accounts.  They provide
consolidated billing, APIs (e.g., via Terraform) for automating account
creation, and the ability to apply account-wide IAM like policies.</p><p>As security best practices prefer account boundaries over IAM policies
as a way to limit resource access, AWS Organizations are becoming a
standard part of any AWS deployment.</p><ul><li><a href="#truss-patterns">Truss Patterns</a><ul><li><a href="#the-organization-root-account">The Organization Root Account</a></li><li><a href="#the-id-account">The ID Account</a></li><li><a href="#the-infra-account">The Infra Account</a></li><li><a href="#other-accounts">Other Accounts</a></li></ul></li><li><a href="#best-practices">Best Practices</a></li><li><a href="#external-links">External links</a></li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="truss-patterns">Truss Patterns<a class="hash-link" href="#truss-patterns" title="Direct link to heading">‚Äã</a></h2><p>As Truss has begun adopting AWS Organizations for most of our new
projects, we have developed a number of patterns for organizations.
For a more thorough description of the process of bootstrapping a
new AWS Organization, see the <a href="/docs/infrasec/aws/org-bootstrap">Bootstrapping an AWS
Organization</a> document, but below is a brief
description of the patterns we&#x27;ve adopted.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-organization-root-account">The Organization Root Account<a class="hash-link" href="#the-organization-root-account" title="Direct link to heading">‚Äã</a></h3><ul><li>Pick a standard prefix you can use for all the accounts in your
organization; for our example we&#x27;ll use <code>spacecats</code>.</li><li>The first account you should create is the &quot;org-root&quot; account for the
organization, which is where you will configure organization-wide
resources. We call this the &quot;org-root&quot; account and name it like
<code>spacecats-org-root</code>. <em>This account should not be used for anything
else -- no application should use resources from this account.</em></li><li>There should be as few users with IAM access to the <code>org-root</code>
account as possible; generally only infrastructure engineers and
an &quot;owner&quot; from the client. Their IAM users in this account should
be suffixed with <code>.org-root</code> in order to distinguish them from
IAM users in other accounts (such as <code>alice.org-root</code>).</li><li>You can use the
<a href="https://github.com/trussworks/terraform-aws-org-scp" target="_blank" rel="noopener noreferrer"><code>terraform-aws-org-scp</code></a>
module to get a base set of <a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_policies_scp.html" target="_blank" rel="noopener noreferrer">Service Control
Policies</a>
to apply to OUs created in this account.</li><li>Create a <code>suspended</code> OU for the organization in this account which
you can place accounts into if you think they have been compromised
or are exhibiting strange behavior. It can also be used for dummy
accounts for <a href="/docs/infrasec/aws/govcloud">GovCloud</a> deployments.</li><li>To bootstrap other accounts, you can define them here with the
<a href="https://www.terraform.io/docs/providers/aws/r/organizations_account.html" target="_blank" rel="noopener noreferrer"><code>aws_organizations_account</code></a>
Terraform resource. Once they are created, you can access them using
IAM users in this account by assuming the
<a href="https://docs.aws.amazon.com/organizations/latest/userguide/orgs_manage_accounts_access.html" target="_blank" rel="noopener noreferrer"><code>OrganizationAccountAccessRole</code></a>
in the subsidiary accounts.</li><li>You can create a <code>billing</code> role in this account that can be assumed by
product or delivery managers (with their accounts in the ID account)
to give them access to billing information <em>without</em> giving them access
to this account directly.</li><li>The <code>root</code> password for this account should be reset each time an admin
leaves the project or at least once every six months, just to ensure
that it is not leaked.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-id-account">The ID Account<a class="hash-link" href="#the-id-account" title="Direct link to heading">‚Äã</a></h3><ul><li>The second account you create should be the ID account. This account
will be used to define the IAM users and groups that people will use
on a day-to-day basis. We name this like <code>spacecats-id</code>.</li><li>When creating this account, be sure to set the <code>iam_user_access_to_billing</code>
parameter for the account to <code>ALLOW</code> (all other accounts should have
this set to <code>DENY</code>). Doing by doing this, we can allow users to see the
billing data without having to give them direct access to the <code>org-root</code>
account. <em>This cannot be changed once the account is created, so be sure
to do it now.</em></li><li>To access other accounts, we assign group policies which allow direct role assumption.
We use <a href="https://registry.terraform.io/modules/trussworks/iam-user-group/aws/1.0.2" target="_blank" rel="noopener noreferrer"><code>iam-user-group</code></a> and <a href="https://registry.terraform.io/modules/trussworks/iam-cross-acct-dest/aws" target="_blank" rel="noopener noreferrer"><code>iam-cross-acct-dest</code></a> modules to do this; see <a href="https://github.com/trussworks/terraform-layout-example" target="_blank" rel="noopener noreferrer"><code>terraform-layout-example</code></a> for how we use them.</li><li>Like the <code>org-root</code> account, other than the IAM users and groups, we
should avoid putting any other resources in this account.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="the-infra-account">The Infra Account<a class="hash-link" href="#the-infra-account" title="Direct link to heading">‚Äã</a></h3><ul><li>You will probably also need an infra account for your organization.
This account will contain resources that are organization-wide but are
only used to handle infrastructure concerns. We name this account like
<code>spacecats-infra</code>.</li><li>Examples of resources appropriate for this account might be an Atlantis
deployment for the organization or DNS for your root domain.</li><li>If you define the root domain here (say, <code>spacecats.com</code>), we can then
delegate subdomains (like <code>dev.spacecats.com</code>) to other accounts, which
allows application engineers to define new DNS entries in dev or sandbox
accounts without giving them access to other DNS resources.</li></ul><h3 class="anchor anchorWithStickyNavbar_mojV" id="other-accounts">Other Accounts<a class="hash-link" href="#other-accounts" title="Direct link to heading">‚Äã</a></h3><ul><li>Other than the above accounts, the organization structure is relatively
freeform, or at least flexible.</li><li>Remember that accounts are essentially &quot;free&quot; in terms of monetary cost,
at least. This means we can use them to segregate resources based on
access. On some projects, placing each environment into a different
account makes perfect sense; on others, we might only want production
to be in a separate account.</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="best-practices">Best Practices<a class="hash-link" href="#best-practices" title="Direct link to heading">‚Äã</a></h2><p>These are the best practices gleaned from online resources and our
experiences on various projects.</p><ul><li>For the email address for each of your accounts, create an infrastructure
alias (like <code>spacecats-infra@truss.works</code>) and then for each AWS account,
set the email address to be that alias, with a <code>+</code> suffix for each
account, so you can identify where these emails came from. For instance,
we might make the email address for <code>spacecats-org-root</code> to be
<code>spacecats-infra+aws-org-root@truss.works</code>, the one for the ID account
to be <code>spacecats-infra+aws-org-id@truss.works</code>, etc. This email will be
where support responses and other notifications about your AWS accounts
will be sent.</li><li>As stated above, <em>severely limit access to the org-root account.</em> This
account provides access to everything else in the organization, and
as a result poses a significant security risk if compromised. Use IAM
roles and the ID account to provide granular access to resources.</li><li>Pick whether your SCPs will be whitelists or blacklists; avoid mixing:
understanding what happens when a whitelist SCP inherits a blacklist
SCP (or vice versa) is too complicated.<ul><li>Prefer blacklists as these allow folks to experiment with new
services ‚Äî¬†staying out of the way of engineers.</li><li>Use whitelists for larger organizations operating in high compliance
environments. For example, this could let a large health care company
only allow access to HIPAA approved services. Whitelists require more
maintenance as new services need to get manually added to the whitelist
as they are approved.</li></ul></li><li>Create a top-level OU that everything else is under. This makes it easy
to apply policies across all accounts (e.g., enforce encrypted data).</li></ul><h2 class="anchor anchorWithStickyNavbar_mojV" id="external-links">External links<a class="hash-link" href="#external-links" title="Direct link to heading">‚Äã</a></h2><ol><li><a href="https://www.youtube.com/watch?v=ZKpkF17d0Oo" target="_blank" rel="noopener noreferrer">How Capital One Applies AWS Organizations Best Practices</a></li><li><a href="https://medium.com/slalom-engineering/aws-multi-account-architecture-with-terraform-yeoman-and-jenkins-7fd42ddcdda8" target="_blank" rel="noopener noreferrer">AWS Multi-Account Architecture with Terraform, Yeoman, and Jenkins</a></li><li><a href="https://www.slideshare.net/AmazonWebServices/wrangling-multiple-aws-accounts-with-aws-organizations" target="_blank" rel="noopener noreferrer">Wrangling Multiple AWS Accounts with AWS Organizations</a></li></ol></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/trussworks/Engineering-Playbook/edit/main/docs/infrasec/aws/aws-organizations.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/infrasec/aws"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">[InfraSec](../README.md) / AWS</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/infrasec/aws/govcloud"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">[AWS](../README.md) / Working in GovCloud</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#truss-patterns" class="table-of-contents__link toc-highlight">Truss Patterns</a><ul><li><a href="#the-organization-root-account" class="table-of-contents__link toc-highlight">The Organization Root Account</a></li><li><a href="#the-id-account" class="table-of-contents__link toc-highlight">The ID Account</a></li><li><a href="#the-infra-account" class="table-of-contents__link toc-highlight">The Infra Account</a></li><li><a href="#other-accounts" class="table-of-contents__link toc-highlight">Other Accounts</a></li></ul></li><li><a href="#best-practices" class="table-of-contents__link toc-highlight">Best Practices</a></li><li><a href="#external-links" class="table-of-contents__link toc-highlight">External links</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items"><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2022 TrussWorks, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.299b1956.js"></script>
<script src="/assets/js/main.62abf46a.js"></script>
</body>
</html>