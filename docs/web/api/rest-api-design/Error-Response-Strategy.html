<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-web/api/rest-api-design/Error-Response-Strategy" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Error Response Strategy | Truss Engineering Playbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playbook.truss.dev/docs/web/api/rest-api-design/Error-Response-Strategy"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Error Response Strategy | Truss Engineering Playbook"><meta data-rh="true" name="description" content="Well formatted errors are an important component of education to the user of the API and should be given as much care as the API design."><meta data-rh="true" property="og:description" content="Well formatted errors are an important component of education to the user of the API and should be given as much care as the API design."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://playbook.truss.dev/docs/web/api/rest-api-design/Error-Response-Strategy"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/web/api/rest-api-design/Error-Response-Strategy" hreflang="en"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/web/api/rest-api-design/Error-Response-Strategy" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"API Guide","item":"https://playbook.truss.dev/docs/web/api/"},{"@type":"ListItem","position":2,"name":"REST API Design","item":"https://playbook.truss.dev/docs/web/api/rest-api-design/"},{"@type":"ListItem","position":3,"name":"Error Response Strategy","item":"https://playbook.truss.dev/docs/web/api/rest-api-design/Error-Response-Strategy"}]}</script><link rel="stylesheet" href="/assets/css/styles.f2629a4b.css">
<script src="/assets/js/runtime~main.28dfb233.js" defer="defer"></script>
<script src="/assets/js/main.036f0b5e.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Engineering Playbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">About</a><a class="navbar__item navbar__link" href="/docs/practices">Practices</a><a class="navbar__item navbar__link" href="/docs/incident-response">Incident Response</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/trussworks/Engineering-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs"><span title="Engineering Playbook" class="linkLabel_WmDU">Engineering Playbook</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/documentation/intro-to-docs"><span title="Introduction to Documentation" class="linkLabel_WmDU">Introduction to Documentation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/documentation/adr"><span title="Architectural Decision Records" class="linkLabel_WmDU">Architectural Decision Records</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/documentation/external-resources"><span title="External Resources" class="linkLabel_WmDU">External Resources</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/compliance"><span title="Federal Compliance" class="linkLabel_WmDU">Federal Compliance</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/developing"><span title="Developing" class="categoryLinkLabel_W154">Developing</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/leadership"><span title="Leadership" class="categoryLinkLabel_W154">Leadership</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/web"><span title="Web Development" class="categoryLinkLabel_W154">Web Development</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web"><span title="Web Development" class="linkLabel_WmDU">Web Development</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/web/api"><span title="API Guide" class="categoryLinkLabel_W154">API Guide</span></a><button aria-label="Collapse sidebar category &#x27;API Guide&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/api/GraphQL-Design-Guide"><span title="GraphQL API" class="linkLabel_WmDU">GraphQL API</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/web/api/rest-api-design"><span title="REST API Design" class="categoryLinkLabel_W154">REST API Design</span></a><button aria-label="Collapse sidebar category &#x27;REST API Design&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/api/rest-api-design/Concurrency-Control"><span title="Concurrency Control" class="linkLabel_WmDU">Concurrency Control</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/api/rest-api-design/Data-Design"><span title="Data-Design" class="linkLabel_WmDU">Data-Design</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/web/api/rest-api-design/Error-Response-Strategy"><span title="Error Response Strategy" class="linkLabel_WmDU">Error Response Strategy</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/api/rest-api-design/HTTP-Methods"><span title="HTTP Methods" class="linkLabel_WmDU">HTTP Methods</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/api/rest-api-design/Style-Guide"><span title="Style Guide" class="linkLabel_WmDU">Style Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/api/rest-api-design/URL-Design"><span title="URL Design" class="linkLabel_WmDU">URL Design</span></a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/web/browsersupport"><span title="Browser Support" class="linkLabel_WmDU">Browser Support</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/web/frontend"><span title="Front End" class="categoryLinkLabel_W154">Front End</span></a><button aria-label="Expand sidebar category &#x27;Front End&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/web/server"><span title="Server" class="categoryLinkLabel_W154">Server</span></a><button aria-label="Expand sidebar category &#x27;Server&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/web/testing"><span title="Testing Frameworks" class="categoryLinkLabel_W154">Testing Frameworks</span></a><button aria-label="Expand sidebar category &#x27;Testing Frameworks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Web Development</span></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/web/api"><span>API Guide</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/web/api/rest-api-design"><span>REST API Design</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Error Response Strategy</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Error Response Strategy</h1></header>
<p>Well formatted errors are an important component of education to the user of the API and should be given as much care as the API design.</p>
<p>Just like an HTML error page shows a useful error message to a visitor, an API should provide a <strong>useful error message</strong> in a known consumable format.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="key-takeaways">Key Takeaways<a href="#key-takeaways" class="hash-link" aria-label="Direct link to Key Takeaways" title="Direct link to Key Takeaways" translate="no">​</a></h2>
<ul>
<li class="">Use a consistent error response strategy.</li>
<li class="">Have a default list of errors, in addition to abiding by the correct HTTP status codes.</li>
<li class="">Your error codes should not change, unlike descriptive messages, which can change.</li>
<li class="">Consider readability by providing a list of errors and using strings for messages instead of integers.</li>
</ul>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="terms">Terms<a href="#terms" class="hash-link" aria-label="Direct link to Terms" title="Direct link to Terms" translate="no">​</a></h2>
<p><strong>Error Code</strong> — A unique, machine readable, identifier for the error.<br>
<strong>Status Code</strong> — The status code on the HTTP response. <br>
<strong>Message</strong> — A brief human-readable message.<br>
<strong>Detail</strong> — A lengthier explanation of the error.<br>
<strong>Parameters / Path</strong> — a description of which part of the request triggered the error.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-a-consistent-error-format-across-the-api">Use a consistent error format across the API<a href="#use-a-consistent-error-format-across-the-api" class="hash-link" aria-label="Direct link to Use a consistent error format across the API" title="Direct link to Use a consistent error format across the API" translate="no">​</a></h3>
<p>When the client handles an error, they should know the format of the error beforehand. To make this simple, use the same error format across all errors, at least at the top level.</p>
<p>This way the error handling code on the frontend can be somewhat generic, instead of having to adapt to different response types based on the API.</p>
<p><strong>Example</strong>
A bad example would be to return errors like these in the same system. Notice one has parameters <code>Message</code> and <code>MissingParameter</code> and the other <code>Code</code> and <code>Message</code>:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Required parameter AppId is missing.&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;MissingParameter&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;SearchRequest.AppId&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><br></span></code></pre></div></div>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;125764&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Transaction could not be completed&quot;</span><br></span></code></pre></div></div>
<p>The client cannot tell whether <code>code</code> will always be returned or not, they would have to match the string. The string could change in another similar error.</p>
<p>A good example would be to return an error like this, where the <code>Code</code>, <code>Title</code> and <code>Message</code> are available in ALL errors across the API:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;VALIDATION_ERROR&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Title&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Validation Error&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Required parameter is missing from body&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Body&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token property" style="color:#b29762">&quot;Parameter&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;appId&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre></div></div>
<p>There&#x27;s an argument in favor of returning a list of error objects, rather than a single error object, so that the frontend doesn’t have to check every time what the shape of the error response is. This is especially true if you may return multiple errors anywhere in the API.</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-the-correct-http-status-codes">Use the correct HTTP status codes<a href="#use-the-correct-http-status-codes" class="hash-link" aria-label="Direct link to Use the correct HTTP status codes" title="Direct link to Use the correct HTTP status codes" translate="no">​</a></h3>
<p>HTTP defines a lot of <a href="https://en.wikipedia.org/wiki/List_of_HTTP_status_codes" target="_blank" rel="noopener noreferrer" class="">meaningful status codes</a> that can be returned from an API. Use these as your HTTP response type.</p>
<p>For e.g. The types of responses are grouped into the following top level categories.</p>
<p>The error codes are 3-digit numbers, and <code>2xx</code> below indicates any number from 200-299.</p>
<ul>
<li class=""><code>2xx</code> <strong>Success</strong> - This category indicates the action requested by the client was received, understood, and accepted.</li>
<li class=""><code>4xx</code> <strong>Client Error</strong> - This category indicate that the error seems to have been caused by the client.</li>
<li class=""><code>5xx</code> <strong>Server Error</strong> - This category indicates the server failed to fulfill a request.</li>
</ul>
<p><strong>Importance of the Client vs. Server Error Distinction</strong> - <code>500</code> server errors signal that something went wrong on the backend <em>that shouldn&#x27;t have</em>.</p>
<p>If a client sends a request and it has a bad value, the source of the error is the client. That is a known error that should be detected and returned with a <code>4xx</code>. Most known errors should be a <code>4xx</code>. Some can even be fixed by the client.</p>
<p>Most <code>500</code> errors are bugs, unexpected situations on the server that cannot be fixed by the client. Keep this in mind as you select which type of error response your situation calls for.</p>
<p>Why is this important? 500 errors are usually serious enough that a slew of them should cause on-call staff to be paged. You wouldn&#x27;t want on-call staff to be paged for something any client can trigger by mashing the submit key on a badly formed request.</p>
<p>Since there are a lot of status codes, it&#x27;s advisable to pick a well-known subset of HTTP responses and return mainly those. It makes it easier for the client to support.</p>
<ul>
<li class=""><code>200</code> <strong>OK</strong> - Response to a successful GET, PUT, PATCH or DELETE. Can also be used for a POST that doesn&#x27;t result in a creation.</li>
<li class=""><code>201</code> <strong>Created</strong> - Response to a POST that results in a creation.</li>
<li class=""><code>404</code> <strong>Not Found</strong> - When a non-existent resource is requested.</li>
<li class=""><code>409</code> <strong>Conflict</strong> - When we cannot process the request due to the current state of the server.</li>
<li class=""><code>412</code> <strong>Precondition Failed</strong> - A precondition like <a class="" href="/docs/web/api/rest-api-design/Concurrency-Control">optimistic locking</a> has failed.</li>
<li class=""><code>422</code> <strong>Unprocessable Entity</strong> - Used for validation errors.</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="use-a-constant-error-code-to-uniquely-identify-errors">Use a constant error code to uniquely identify errors<a href="#use-a-constant-error-code-to-uniquely-identify-errors" class="hash-link" aria-label="Direct link to Use a constant error code to uniquely identify errors" title="Direct link to Use a constant error code to uniquely identify errors" translate="no">​</a></h3>
<p>A constant error code in the body allows the logic on the frontend to understand and handle the error correctly. Note this is different from the HTTP status code.</p>
<p>For e.g. rather than a message stating &quot;Last name was missing from the response&quot;, it&#x27;s better to send a code as well as the message. The frontend code can then look for <code>code == MISSING_PARAMETER</code> and know how to handle it consistently for all missing parameters.</p>
<p>Without a code, a different error might return, &quot;Phone number is required&quot; resulting in special handling for very similar issues.</p>
<p>Any logic that handles this error code should match on the error code and not on an error string. This ensures error handling won’t break if the message changes.</p>
<p>For the error code itself, consider using an enumerated short string for readability. This provides the twofold benefit of being a constant value, but also being human-readable.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;MISSING_PARAMETER&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="provide-detailed-messages">Provide Detailed Messages<a href="#provide-detailed-messages" class="hash-link" aria-label="Direct link to Provide Detailed Messages" title="Direct link to Provide Detailed Messages" translate="no">​</a></h3>
<p>Messages are mainly used by developers who are reading a raw response, so help them understand what went wrong and how they could fix it.</p>
<p>Provide detail. If there are multiple errors, it&#x27;s best to always return a list of errors, lists are easier to read and process.</p>
<p>Consider adding parameters to your messages. This is most commonly
used for validation errors, describing what parameter in the request
is wrong. E.g. “submitter.email”</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="examples">Examples<a href="#examples" class="hash-link" aria-label="Direct link to Examples" title="Direct link to Examples" translate="no">​</a></h3>
<p><em>From Bing, a good error response:</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;SearchResponse&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token property" style="color:#b29762">&quot;Version&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;2.2&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token property" style="color:#b29762">&quot;Query&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;SearchTerms&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;api error codes&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token property" style="color:#b29762">&quot;Errors&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">1001</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Required parameter is missing.&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;Parameter&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;SearchRequest.AppId&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;HelpUrl&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;http://msdn.microsoft.com/en-us/library/dd251042.aspx&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre></div></div>
<p><em>From go, a bad error response:</em></p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain">    Bad Request</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="security">Security<a href="#security" class="hash-link" aria-label="Direct link to Security" title="Direct link to Security" translate="no">​</a></h3>
<p>While detailed messages are good, do not reveal the internals of the system unnecessarily.</p>
<p>For e.g. do not return the raw SQL error that reveals schema information to your user. Instead log that error securely, and return a rewritten message that clearly states to the user what <em>they</em> might fix in their request.</p>
<p>The following message reveals table names and column names and an ID. Do not return this to the client.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">1001</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;ERROR: insert or update on table &#x27;user_auth&#x27; violates foreign key constraint &#x27;user_auth_address_id_fkey&#x27; DETAIL: Key (user_auth)=(27856) is not present in table &#x27;address&#x27;.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre></div></div>
<p>Instead, return a succinct, readable message that is useful to the user but doesn&#x27;t reveal sytem internals:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> CONFLICT_ERROR</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">        </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;User account is incomplete and causes a conflict. Please add address information.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="reporting-validation-errors">Reporting validation errors<a href="#reporting-validation-errors" class="hash-link" aria-label="Direct link to Reporting validation errors" title="Direct link to Reporting validation errors" translate="no">​</a></h3>
<p>Validation issues can be global, per object, and per field and a single request can have multiple errors. This is why it is important to be able return an array of errors.</p>
<p>We recommend having a list of errors be the default, even in cases when there is only one error returned.</p>
<p>This simplifies client side code to be able to assume the top level format of error bodies.</p>
<p>You can tie individual errors to the invalid request using a “parameters/path” key</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;errors&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;PARAMETER_MISSING&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;First name is missing.&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;Parameter&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;geek.firstname&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;Code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;TOO_SHORT&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;Message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Phone number must be at least 10 digits.&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;Parameter&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;geek.phone_number&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="add-a-requestid-to-help-track-errors">Add a requestID to help track errors<a href="#add-a-requestid-to-help-track-errors" class="hash-link" aria-label="Direct link to Add a requestID to help track errors" title="Direct link to Add a requestID to help track errors" translate="no">​</a></h3>
<p>It can be useful to add a parameter that uniquely identifies the specific request with a UUID. Then in your server logs, be sure to add that parameter in your structured logging data. Also, it is beneficial to add this as a header in all responses.</p>
<p>When a client has an error and cannot solve it themselves, they can report the error with the requestID, allowing backend developers to find the associated logs.</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;CONFLICT_ERROR&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;title&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Conflict Error&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;detail&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Estimated weight must be set before this item can be approved.&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">      </span><span class="token property" style="color:#b29762">&quot;requestID&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;7673868d-231e-490d-9c4f-19288e7e668d&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="handling-errors-in-api-requests-that-affect-multiple-objects">Handling errors in API requests that affect multiple &quot;objects&quot;<a href="#handling-errors-in-api-requests-that-affect-multiple-objects" class="hash-link" aria-label="Direct link to Handling errors in API requests that affect multiple &quot;objects&quot;" title="Direct link to Handling errors in API requests that affect multiple &quot;objects&quot;" translate="no">​</a></h3>
<p>If an API request could affect multiple “objects”, how are errors handled? Are all changes rolled back?</p>
<p>From <a href="https://alidg.me/blog/2016/9/24/rest-api-error-handling" target="_blank" rel="noopener noreferrer" class="">Rest Api Error Handling</a></p>
<ol>
<li class="">Define ranges for error codes</li>
<li class="">Define Resource Based Error Codes.
That is, we use a string prefix for each error code and that prefix is determined by the resource itself.
Example:</li>
</ol>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#faf8f5;--prism-color:#728fcb"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="background-color:#faf8f5;color:#728fcb"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#728fcb"><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;status_code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token number" style="color:#063289">400</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;reason_phrase&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;Bad Request&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token property" style="color:#b29762">&quot;errors&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#b6ad9a">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token property" style="color:#b29762">&quot;code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;geeks-2&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token property" style="color:#b29762">&quot;message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;The first_name is mandatory&quot;</span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">    </span><span class="token punctuation" style="color:#b6ad9a">{</span><span class="token property" style="color:#b29762">&quot;code&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;geeks-3&quot;</span><span class="token punctuation" style="color:#b6ad9a">,</span><span class="token plain"> </span><span class="token property" style="color:#b29762">&quot;message&quot;</span><span class="token operator" style="color:#063289">:</span><span class="token plain"> </span><span class="token string" style="color:#728fcb">&quot;The last_name is mandatory&quot;</span><span class="token punctuation" style="color:#b6ad9a">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain">  </span><span class="token punctuation" style="color:#b6ad9a">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#728fcb"><span class="token plain"></span><span class="token punctuation" style="color:#b6ad9a">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="todo">Todo<a href="#todo" class="hash-link" aria-label="Direct link to Todo" title="Direct link to Todo" translate="no">​</a></h2>
<ul>
<li class="">Internationalizing errors</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="resources">Resources<a href="#resources" class="hash-link" aria-label="Direct link to Resources" title="Direct link to Resources" translate="no">​</a></h3>
<p><a href="https://stackoverflow.com/questions/30109787/internationalization-of-api-error-messages-on-front-end-or-back-end" target="_blank" rel="noopener noreferrer" class="">Internationalization of API error messages</a><br>
<a href="https://www.at-it-translator.com/best-practicestips-for-software-application-and-game-localization/" target="_blank" rel="noopener noreferrer" class="">Best practices for localization</a><br>
<a href="https://docs.ckan.org/en/2.9/contributing/string-i18n.html" target="_blank" rel="noopener noreferrer" class="">String Internationalization</a><br>
<a href="https://nordicapis.com/best-practices-api-error-handling/" target="_blank" rel="noopener noreferrer" class="">Best practices for API error handling</a><br>
<a href="https://www.baeldung.com/rest-api-error-handling-best-practices" target="_blank" rel="noopener noreferrer" class="">Rest API Error Handling</a></p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/trussworks/Engineering-Playbook/edit/main/docs/web/api/rest-api-design/Error-Response-Strategy.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/web/api/rest-api-design/Data-Design"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data-Design</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/web/api/rest-api-design/HTTP-Methods"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">HTTP Methods</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-takeaways" class="table-of-contents__link toc-highlight">Key Takeaways</a></li><li><a href="#terms" class="table-of-contents__link toc-highlight">Terms</a><ul><li><a href="#use-a-consistent-error-format-across-the-api" class="table-of-contents__link toc-highlight">Use a consistent error format across the API</a></li><li><a href="#use-the-correct-http-status-codes" class="table-of-contents__link toc-highlight">Use the correct HTTP status codes</a></li><li><a href="#use-a-constant-error-code-to-uniquely-identify-errors" class="table-of-contents__link toc-highlight">Use a constant error code to uniquely identify errors</a></li><li><a href="#provide-detailed-messages" class="table-of-contents__link toc-highlight">Provide Detailed Messages</a></li><li><a href="#examples" class="table-of-contents__link toc-highlight">Examples</a></li><li><a href="#security" class="table-of-contents__link toc-highlight">Security</a></li><li><a href="#reporting-validation-errors" class="table-of-contents__link toc-highlight">Reporting validation errors</a></li><li><a href="#add-a-requestid-to-help-track-errors" class="table-of-contents__link toc-highlight">Add a requestID to help track errors</a></li><li><a href="#handling-errors-in-api-requests-that-affect-multiple-objects" class="table-of-contents__link toc-highlight">Handling errors in API requests that affect multiple &quot;objects&quot;</a></li></ul></li><li><a href="#todo" class="table-of-contents__link toc-highlight">Todo</a><ul><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2025 TrussWorks, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>