<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-practices/appeng/adrs/distributed-tracing">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.2.0">
<title data-rh="true">0002 - Use OpenTelemetry to instrument code for distributed tracing | Truss Engineering Playbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://playbook.truss.dev/docs/practices/appeng/adrs/distributed-tracing"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="0002 - Use OpenTelemetry to instrument code for distributed tracing | Truss Engineering Playbook"><meta data-rh="true" name="description" content="Status: Accepted"><meta data-rh="true" property="og:description" content="Status: Accepted"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://playbook.truss.dev/docs/practices/appeng/adrs/distributed-tracing"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/practices/appeng/adrs/distributed-tracing" hreflang="en"><link data-rh="true" rel="alternate" href="https://playbook.truss.dev/docs/practices/appeng/adrs/distributed-tracing" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c67140d7.css">
<link rel="preload" href="/assets/js/runtime~main.d5615f5c.js" as="script">
<link rel="preload" href="/assets/js/main.93d4165b.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#docusaurus_skipToContent_fallback">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/truss-icon-light.png" alt="Truss Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Engineering Playbook</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/trussworks/Engineering-Playbook" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs">Engineering Playbook</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/compliance">Federal Compliance</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/developing">Tools and Practice</a><button aria-label="Toggle the collapsible sidebar category &#x27;Tools and Practice&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/documentation">Documentation</a><button aria-label="Toggle the collapsible sidebar category &#x27;Documentation&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/incident-response">Incident Response</a><button aria-label="Toggle the collapsible sidebar category &#x27;Incident Response&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/infrasec">InfraSec</a><button aria-label="Toggle the collapsible sidebar category &#x27;InfraSec&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/leadership">Leadership</a><button aria-label="Toggle the collapsible sidebar category &#x27;Leadership&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/practices">Engineering Practices</a><button aria-label="Toggle the collapsible sidebar category &#x27;Engineering Practices&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/practices/appeng">Application Engineer Practice</a><button aria-label="Toggle the collapsible sidebar category &#x27;Application Engineer Practice&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/practices/appeng/adrs">ADRs</a><button aria-label="Toggle the collapsible sidebar category &#x27;ADRs&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/adrs/use-typescript">0001 - Preference to use TypeScript in place of JavaScript</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/practices/appeng/adrs/distributed-tracing">0002 - Use OpenTelemetry to instrument code for distributed tracing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/adrs/open-source-application-code">0003 Open Source Application Code</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/adrs/postgresql-as-relational-store">0004 - Use PostgreSQL as a relational store</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/adrs/javascript-dependency-management">0005 - JavaScript dependency management</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/adrs/template">Template ADR</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/decision-process">AppEng Decision Process</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/decision-values">AppEng Decision Making Primer and Values</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/practices/appeng/team-charter">AppEng Team Charter</a></li></ul></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/templates">Templates</a><button aria-label="Toggle the collapsible sidebar category &#x27;Templates&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/web">Web Development</a><button aria-label="Toggle the collapsible sidebar category &#x27;Web Development&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/practices"><span itemprop="name">Engineering Practices</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/practices/appeng"><span itemprop="name">Application Engineer Practice</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/practices/appeng/adrs"><span itemprop="name">ADRs</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">0002 - Use OpenTelemetry to instrument code for distributed tracing</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>0002 - Use OpenTelemetry to instrument code for distributed tracing</h1><p><strong>Status:</strong> Accepted</p><p><strong>Date Accepted:</strong> 12/8/2021</p><p><strong>Reviewers:</strong> @ahobson @felipe-lee @gidjin @jim @macrael @mikena-truss @reggieriser @rogeruiz</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="context">Context<a class="hash-link" href="#context" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="objective">Objective<a class="hash-link" href="#objective" title="Direct link to heading">​</a></h3><p><em>Give developers and operators an easier way to understand the behavior and
structure of running systems by instrumenting code for distributed tracing,
leading to a more consistent experience for the systems&#x27; users.</em></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="why-distributed-tracing">Why Distributed Tracing?<a class="hash-link" href="#why-distributed-tracing" title="Direct link to heading">​</a></h3><blockquote><p>Observability is defined as the ability of the internal states of a system to
be determined by its external outputs.</p></blockquote><p>There are several established techniques for gaining observability into complex
software systems:</p><ul><li>Logging<ul><li>helpful for known knowns</li><li>e.g. &quot;I want to know when a specific condition is reached&quot;</li></ul></li><li>Metrics<ul><li>helpful for assessing known unknowns</li><li>e.g. &quot;How many requests per second was the system handling last Tuesday?&quot;</li></ul></li><li>Distributed Tracing<ul><li>helpful for learning about unknown unknowns</li><li>e.g. &quot;What was the execution context for User X that caused their
interaction to timeout last Tuesday?&quot;</li></ul></li></ul><p>Some of the benefits of distributed tracing as outlined in
<a href="https://petabridge.com/blog/why-use-distributed-tracing/" target="_blank" rel="noopener noreferrer"><em>How Distributed Tracing Solves One of the Worst Microservices Problems</em></a>
are:</p><ul><li>radically improves developer productivity and output</li><li>works across multiple applications, programming languages, and transports</li><li>improve time to market</li><li>facilitates excellent cross-team communication and cooperation</li></ul><p>Here are several example scenarios or questions that distributed tracing can
help answer:</p><ul><li>As a new engineer on the team, I want to understand how many separate systems
are involved when a certain user type logs in and the first page is rendered.</li><li>As an operations engineer, I want to know how many SQL queries are executed
for a given endpoint or interaction.</li><li>As a product manager, I want to know if a new feature is being used by a
certain cohort of users on a regular basis.</li><li>As an engineer, I want to prove that an optimization I wrote is effective
in a production environment.</li><li>As a load tester, after I have shown that a problem exists, I want to
understand how the system is interacting so I can debug and fix the issue.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="adr-goals-and-anti-goals">ADR Goals and Anti-goals<a class="hash-link" href="#adr-goals-and-anti-goals" title="Direct link to heading">​</a></h3><ul><li>Goal: Choose which set of libraries to use within a codebase (across
programming languages) for generating distributed tracing data</li><li>Anti-goal: Committing to a specific &quot;backend&quot;, i.e. platform or service for
gathering, exploring, and displaying trace information<ul><li>Sub-goal: Leaving open as many options as possible for the backend</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="decision">Decision<a class="hash-link" href="#decision" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-opentelemetry">Use OpenTelemetry<a class="hash-link" href="#use-opentelemetry" title="Direct link to heading">​</a></h3><ul><li>OpenTelemetry is an emerging industry standard<ul><li>vendors find benefit of being in the OpenTelemetry ecosystem because they
no longer have to create or support instrumentation libraries in an ever
growing array of languages, i.e. as soon as language library exists for
OpenTelemetry, the vendors automatically become available to support that
given language.</li></ul></li><li>OpenTelemetry is vendor agnostic<ul><li>tracing information can be sent to hosted services (e.g. Honeycomb.io, AWS
X-Ray, etc) or self-hosted Open Source implementations (e.g. Zipkin, Jaeger,
etc)</li><li>if left unconfigured, OpenTelemetry instrumentation calls default to
lightweight/noop executions</li></ul></li><li>OpenTelemetry has well-maintained libraries for the languages used in the
layers of most Truss projects<ul><li>i.e. Go (back-end); JavaScript (front-end); Python (load testing); etc</li></ul></li><li>Easily swappable back-ends<ul><li>e.g. could choose a local Docker version of OpenZipkin for an all-local
development environment</li><li>e.g. can use Honeycomb.io in the experimental commercial-cloud hosted
environment</li><li>e.g. can swap in AWS X-Ray for use in GovCloud hosted environments</li></ul></li><li>Cons<ul><li>as an abstraction layer, OpenTelemetry may prohibit usage of vendor-specific
capabilities</li><li>some OpenTelemetry libraries and tools may trail their vendor-supported
counterparts</li><li>instrumentation for tracing may be a vector for performance overhead</li><li>the specification is relatively new so you may have to use pre-1.0
versions of some libraries</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-is-this-applicable-to-the-practice-as-a-whole">Why is this Applicable to the Practice as a Whole<a class="hash-link" href="#why-is-this-applicable-to-the-practice-as-a-whole" title="Direct link to heading">​</a></h2><p>Most applications will benefit from instrumentation once they are accepting
production traffic. For many systems, a significant amount of work is required
to add tracing calls to the code after substantial development has been
completed. Therefore, instrumentation needs to be part of the development
process early in a project.</p><p>Projects should identify what types of calls need to be traced as a part of
discovery and document these decisions in a project-level ADR. For example,
a web backend might add tracing to HTTP requests, service invocations,
database calls, and any network requests made by the backend.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-to-not-implement-this-decision">When to Not Implement This Decision<a class="hash-link" href="#when-to-not-implement-this-decision" title="Direct link to heading">​</a></h2><p>Don&#x27;t use OpenTelemetry if:</p><ul><li>the ecosystem you are working in doesn&#x27;t have a mature instrumentation
library</li><li>the project already has a working instrumentation solution using a
proprietary hosted service that is satisfying the project&#x27;s needs</li><li>the project is too small to support the effort required to implement
tracing. If this is the case, it is probably worth investigating if there
are other implementation options for the project, potentially in
higher-level languages or batteries-included frameworks.</li><li>it isn&#x27;t possible to setup a backend to collect data</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="alternatives-considered">Alternatives Considered<a class="hash-link" href="#alternatives-considered" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="use-a-vendors-instrumentation-libraries">Use a vendor&#x27;s instrumentation libraries<a class="hash-link" href="#use-a-vendors-instrumentation-libraries" title="Direct link to heading">​</a></h3><ul><li><code>+</code> Enables accessing vendor-specific capabilities</li><li><code>-</code> Vendor lock-in in code<ul><li>lock-in may be somewhat mitigated by translation layers available within
the OpenTelemetry ecosystem, at the expense of increased configuration burden</li><li>example - choosing AWS X-Ray would work well in the deployed GovCloud
environments, but it does not scale down to exclusively local development
environments, i.e. X-Ray does not provide a UI for browsing distributed
traces with their local X-Ray daemon</li><li>example - choosing Honeycomb.io&#x27;s instrumentation libraries adds a lot of
nice auto-instrumentation capabilities over OpenTelemetry, but since
Honeycomb does not have FedRAMP (nor do most of their peers), the distributed
tracing could not be enabled in the GovCloud deployed environments</li><li>example - using an open source tool (e.g. OpenZipkin) can scale down to
local development, but would require more infrastructure support to self-host
the data storage and UI tools in the GovCloud environments</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="do-not-instrument">Do not instrument<a class="hash-link" href="#do-not-instrument" title="Direct link to heading">​</a></h3><ul><li><code>+</code> No work to be done</li><li><code>-</code> developers and operators continue to use current methods to build their
understanding of the system, which is likely slower and less complete than when
using distributed tracing</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="links">Links<a class="hash-link" href="#links" title="Direct link to heading">​</a></h2><ul><li><a href="https://youtu.be/_OXYCzwFd1Y" target="_blank" rel="noopener noreferrer">Modern Observability with OpenTelemetry</a> (YouTube video, 12 minutes)</li><li><a href="https://player.fm/series/the-infoq-podcast-2896265/ted-young-on-observability-and-the-release-of-opentelemetry-10" target="_blank" rel="noopener noreferrer">Ted Young on Observability and the Release of OpenTelemetry 1.0</a> (The InfoQ Podcast, 33 minutes)</li><li><a href="https://petabridge.com/blog/why-use-distributed-tracing/" target="_blank" rel="noopener noreferrer">How Distributed Tracing Solves One of the Worst Microservices Problems</a> (article)</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/trussworks/Engineering-Playbook/edit/main/docs/practices/appeng/adrs/0002-distributed-tracing.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/practices/appeng/adrs/use-typescript"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">0001 - Preference to use TypeScript in place of JavaScript</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/practices/appeng/adrs/open-source-application-code"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">0003 Open Source Application Code</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#context" class="table-of-contents__link toc-highlight">Context</a><ul><li><a href="#objective" class="table-of-contents__link toc-highlight">Objective</a></li><li><a href="#why-distributed-tracing" class="table-of-contents__link toc-highlight">Why Distributed Tracing?</a></li><li><a href="#adr-goals-and-anti-goals" class="table-of-contents__link toc-highlight">ADR Goals and Anti-goals</a></li></ul></li><li><a href="#decision" class="table-of-contents__link toc-highlight">Decision</a><ul><li><a href="#use-opentelemetry" class="table-of-contents__link toc-highlight">Use OpenTelemetry</a></li></ul></li><li><a href="#why-is-this-applicable-to-the-practice-as-a-whole" class="table-of-contents__link toc-highlight">Why is this Applicable to the Practice as a Whole</a></li><li><a href="#when-to-not-implement-this-decision" class="table-of-contents__link toc-highlight">When to Not Implement This Decision</a></li><li><a href="#alternatives-considered" class="table-of-contents__link toc-highlight">Alternatives Considered</a><ul><li><a href="#use-a-vendors-instrumentation-libraries" class="table-of-contents__link toc-highlight">Use a vendor&#39;s instrumentation libraries</a></li><li><a href="#do-not-instrument" class="table-of-contents__link toc-highlight">Do not instrument</a></li></ul></li><li><a href="#links" class="table-of-contents__link toc-highlight">Links</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Resources</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://6130eb5cde15830007fdf57b--docusaurus-2.netlify.app/docs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus Official Docs<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright 2023 TrussWorks, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d5615f5c.js"></script>
<script src="/assets/js/main.93d4165b.js"></script>
</body>
</html>