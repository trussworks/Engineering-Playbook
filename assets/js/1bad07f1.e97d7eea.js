"use strict";(globalThis.webpackChunkengineering_playbook=globalThis.webpackChunkengineering_playbook||[]).push([[8097],{8453:(e,t,o)=>{o.d(t,{R:()=>i,x:()=>l});var s=o(6540);const r={},n=s.createContext(r);function i(e){const t=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(n.Provider,{value:t},e.children)}},8666:(e,t,o)=>{o.r(t),o.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"developing/vcs/tools","title":"Tools","description":"This page provides a summary of tools we commonly use for source control","source":"@site/docs/developing/vcs/tools.md","sourceDirName":"developing/vcs","slug":"/developing/vcs/tools","permalink":"/docs/developing/vcs/tools","draft":false,"unlisted":false,"editUrl":"https://github.com/trussworks/Engineering-Playbook/edit/main/docs/developing/vcs/tools.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"about","previous":{"title":"Source Control","permalink":"/docs/developing/vcs/"},"next":{"title":"Git Repos","permalink":"/docs/developing/vcs/git-repos"}}');var r=o(4848),n=o(8453);const i={sidebar_position:1},l="Tools",c={},a=[{value:"Git",id:"git",level:2},{value:"pre-commit",id:"pre-commit",level:2},{value:"pre-reqs",id:"pre-reqs",level:2}];function p(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"tools",children:"Tools"})}),"\n",(0,r.jsx)(t.p,{children:"This page provides a summary of tools we commonly use for source control\nat Truss."}),"\n",(0,r.jsx)(t.h2,{id:"git",children:"Git"}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.a,{href:"https://git-scm.com/",children:"Git"})," is a free and open source distributed version\ncontrol system designed to handle everything from small to very large\nprojects with speed and efficiency."]}),"\n",(0,r.jsx)(t.p,{children:"Use your work email when making commits to our repositories.\nThe simplest path to correctness is setting global config:"}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-bash",children:'git config --global user.email "trussel@truss.works"\ngit config --global user.name "Trusty Trussel"\n'})}),"\n",(0,r.jsxs)(t.p,{children:["If you drop the ",(0,r.jsx)(t.code,{children:"--global"})," flag,\nthese settings will only apply to the current repo.\nIf you ever re-clone that repo or clone another repo,\nyou will need to remember to set the local config again.\nYou won't.\nUse the global config. :-)"]}),"\n",(0,r.jsxs)(t.p,{children:['For web-based Git operations,\nGitHub will use your primary email unless you choose\n"Keep my email address private".\nIf you don\'t want to set your work address as primary,\nplease ',(0,r.jsx)(t.a,{href:"https://github.com/settings/emails",children:"turn on the privacy setting"}),"."]}),"\n",(0,r.jsxs)(t.p,{children:["Note that with 2-factor-authentication enabled,\nin order to push local code to GitHub through HTTPS,\nyou need to ",(0,r.jsx)(t.a,{href:"https://gist.github.com/ateucher/4634038875263d10fb4817e5ad3d332f",children:"create a personal access token"}),"\nand use that as your password."]}),"\n",(0,r.jsx)(t.h2,{id:"pre-commit",children:"pre-commit"}),"\n",(0,r.jsxs)(t.p,{children:["We use ",(0,r.jsx)(t.a,{href:"https://pre-commit.com/",children:"pre-commit"})," at Truss to easily add git\nhooks to our Git repos. This allows us to automate things like checking\nfor merge conflicts or mistakenly adding secret keys in our code. See\n",(0,r.jsx)(t.a,{href:"https://github.com/trussworks/circleci-docker-primary/blob/master/.pre-commit-config.yaml",children:"this example"}),"\npre-commit config file from one of our projects."]}),"\n",(0,r.jsxs)(t.p,{children:["Since git does not distribute hooks when a repository is cloned, you will\nhave to install pre-commit in each cloned repo manually using ",(0,r.jsx)(t.code,{children:"pre-commit install --install-hooks"})," or pre-commit will not run in that repo. To assist\nwith automating this step, pre-commit has a ",(0,r.jsx)(t.a,{href:"https://pre-commit.com/#pre-commit-init-templatedir",children:"feature"})," to exploit the\n",(0,r.jsx)(t.a,{href:"https://git-scm.com/docs/git-init#_template_directory",children:"template directory"})," setting in git:"]}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-console",children:"git config --global init.templateDir ~/.git-template\npre-commit init-templatedir ~/.git-template\n"})}),"\n",(0,r.jsx)(t.p,{children:"From now on, each new repository you create or clone will have pre-commit\ninstalled automatically."}),"\n",(0,r.jsx)(t.h2,{id:"pre-reqs",children:"pre-reqs"}),"\n",(0,r.jsxs)(t.p,{children:["We use ",(0,r.jsx)(t.a,{href:"https://github.com/trussworks/prereqs",children:"pre-reqs"})," to bootstrap\nsystem pre-requisites that are required to run the code we push to Github."]})]})}function d(e={}){const{wrapper:t}={...(0,n.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}}}]);